<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/A.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="前言任何事情总是要开始第一步的吧？ 12import numpy as npimport pandas as pd 1 生成数据表 导入文件 12df&#x3D;pd.DataFrame(pd.read_csv(&#39;name.csv&#39;,header&#x3D;1))df&#x3D;pd.DataFrame(pd.read_Excel(&#39;name.xlsx&#39;))  直接">
<meta property="og:type" content="article">
<meta property="og:title" content="Python-&amp;&amp;-ML&#x2F;《从Excel到Python——数据分析进阶指南》阅读笔记">
<meta property="og:url" content="http://yoursite.com/2021/03/11/Python-&&-ML/%E3%80%8A%E4%BB%8EExcel%E5%88%B0Python%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Moneyna 的杂货铺">
<meta property="og:description" content="前言任何事情总是要开始第一步的吧？ 12import numpy as npimport pandas as pd 1 生成数据表 导入文件 12df&#x3D;pd.DataFrame(pd.read_csv(&#39;name.csv&#39;,header&#x3D;1))df&#x3D;pd.DataFrame(pd.read_Excel(&#39;name.xlsx&#39;))  直接">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-11T13:28:34.000Z">
<meta property="article:modified_time" content="2021-03-17T02:53:34.461Z">
<meta property="article:author" content="Mona">
<meta property="article:tag" content="Excel Pandas">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2021/03/11/Python-&&-ML/%E3%80%8A%E4%BB%8EExcel%E5%88%B0Python%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>Python-&&-ML/《从Excel到Python——数据分析进阶指南》阅读笔记 | Moneyna 的杂货铺</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Moneyna 的杂货铺</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">人生得意需尽欢</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/03/11/Python-&&-ML/%E3%80%8A%E4%BB%8EExcel%E5%88%B0Python%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python-&&-ML/《从Excel到Python——数据分析进阶指南》阅读笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-11 21:28:34" itemprop="dateCreated datePublished" datetime="2021-03-11T21:28:34+08:00">2021-03-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-ML/" itemprop="url" rel="index"><span itemprop="name">Python-&&-ML</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>任何事情总是要开始第一步的吧？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br></pre></td></tr></table></figure>
<h3 id="1-生成数据表"><a href="#1-生成数据表" class="headerlink" title="1 生成数据表"></a>1 生成数据表</h3><ul>
<li><p>导入文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df&#x3D;pd.DataFrame(pd.read_csv(&#39;name.csv&#39;,header&#x3D;1))</span><br><span class="line">df&#x3D;pd.DataFrame(pd.read_Excel(&#39;name.xlsx&#39;))</span><br></pre></td></tr></table></figure>
</li>
<li><p>直接生成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df &#x3D; pd.DataFrame(&#123;&quot;id&quot;:[1001,1002,1003,1004,1005,1006], </span><br><span class="line"> &quot;date&quot;:pd.date_range(&#39;20130102&#39;, periods&#x3D;6),</span><br><span class="line"> &quot;city&quot;:[&#39;Beijing &#39;, &#39;SH&#39;, &#39; guangzhou &#39;, &#39;Shen zhen&#39;, &#39;shanghai&#39;, &#39;BEIJING &#39;],</span><br><span class="line"> &quot;age&quot;:[23,44,54,32,34,32],</span><br><span class="line"> &quot;category&quot;:[&#39;100-A&#39;,&#39;100-B&#39;,&#39;110-A&#39;,&#39;110-C&#39;,&#39;210-A&#39;,&#39;130-F&#39;],</span><br><span class="line"> &quot;price&quot;:[1200,np.nan,2133,5433,np.nan,4432]&#125;,</span><br><span class="line"> columns &#x3D;[&#39;id&#39;,&#39;date&#39;,&#39;city&#39;,&#39;category&#39;,&#39;age&#39;,&#39;price&#39;])</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>数据中有缺失（“NA”），脏数据（‘city’列数据不统一）</p>
<h3 id="2-数据表检查"><a href="#2-数据表检查" class="headerlink" title="2 数据表检查"></a>2 数据表检查</h3><ul>
<li><p>查看行列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.shape</span><br><span class="line">(6,6)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据表信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">df.info()</span><br><span class="line"></span><br><span class="line">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span><br><span class="line">RangeIndex: 6 entries, 0 to 5</span><br><span class="line">Data columns (total 6 columns):</span><br><span class="line">id 6 non-null int64</span><br><span class="line">date 6 non-null datetime64[ns]</span><br><span class="line">city 6 non-null object</span><br><span class="line">category 6 non-null object</span><br><span class="line">age 6 non-null int64</span><br><span class="line">price 4 non-null float64</span><br><span class="line">dtypes: datetime64[ns](1), float64(1), int64(2), object(2)</span><br><span class="line">memory usage: 368.0+ bytes</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据表各列数据格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">df.dtypes</span><br><span class="line">id int64</span><br><span class="line">date datetime64[ns]</span><br><span class="line">city object</span><br><span class="line">category object</span><br><span class="line">age int64</span><br><span class="line">price float64</span><br><span class="line">dtype: object</span><br><span class="line"></span><br><span class="line">#查看单列格式</span><br><span class="line">df[&#39;B&#39;].dtype</span><br><span class="line">dtype(&#39;int64&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据空值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">df.isnull()</span><br><span class="line"></span><br><span class="line">#检查特定列空值</span><br><span class="line">df[&#39;price&#39;].isnull()</span><br><span class="line">0 False</span><br><span class="line">1 True</span><br><span class="line">2 False</span><br><span class="line">3 False</span><br><span class="line">4 True</span><br><span class="line">5 False</span><br><span class="line">Name: price, dtype: bool</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看唯一值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df[&#39;city&#39;].unique()</span><br><span class="line"></span><br><span class="line">array([&#39;Beijing &#39;, &#39;SH&#39;, &#39; guangzhou &#39;, &#39;Shenzhen&#39;, &#39;shanghai&#39;, &#39;</span><br><span class="line">BEIJING &#39;], dtype&#x3D;object)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据表数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">df.values</span><br><span class="line"></span><br><span class="line">array([[1001, Timestamp(&#39;2013-01-02 00:00:00&#39;), &#39;Beijing &#39;, &#39;100-</span><br><span class="line">A&#39;, 23,</span><br><span class="line"> 1200.0],</span><br><span class="line"> [1002, Timestamp(&#39;2013-01-03 00:00:00&#39;), &#39;SH&#39;, &#39;100-B&#39;, 44</span><br><span class="line">, nan],</span><br><span class="line"> [1003, Timestamp(&#39;2013-01-04 00:00:00&#39;), &#39; guangzhou &#39;, &#39;1</span><br><span class="line">10-A&#39;, 54,</span><br><span class="line"> 2133.0],</span><br><span class="line"> [1004, Timestamp(&#39;2013-01-05 00:00:00&#39;), &#39;Shenzhen&#39;, &#39;110-</span><br><span class="line">C&#39;, 32,</span><br><span class="line"> 5433.0],</span><br><span class="line"> [1005, Timestamp(&#39;2013-01-06 00:00:00&#39;), &#39;shanghai&#39;, &#39;210-</span><br><span class="line">A&#39;, 34,</span><br><span class="line"> nan],</span><br><span class="line"> [1006, Timestamp(&#39;2013-01-07 00:00:00&#39;), &#39;BEIJING &#39;, &#39;130-</span><br><span class="line">F&#39;, 32,</span><br><span class="line"> 4432.0]], dtype&#x3D;object)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看列名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df.columns</span><br><span class="line">Index([&#39;id&#39;, &#39;date&#39;, &#39;city&#39;, &#39;category&#39;, &#39;age&#39;, &#39;price&#39;], dtype&#x3D;&#39;</span><br><span class="line">object&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看部分数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#查看前10行数据</span><br><span class="line">df.head()</span><br><span class="line"></span><br><span class="line">#查看前3行数据</span><br><span class="line">df.head(3)</span><br><span class="line"></span><br><span class="line">#查看后10行数据</span><br><span class="line">df.tail()</span><br><span class="line"></span><br><span class="line">#查看后3行数据</span><br><span class="line">df.tail(3)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-数据表清洗"><a href="#3-数据表清洗" class="headerlink" title="3 数据表清洗"></a>3 数据表清洗</h3><ul>
<li><p>处理空值（删除或填充）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#删除数据表中含有空值的行</span><br><span class="line">df.dropna(how&#x3D;&#39;any&#39;)</span><br><span class="line"></span><br><span class="line">#使用数字0填充数据表中空值</span><br><span class="line">df.fillna(value&#x3D;0)</span><br><span class="line"></span><br><span class="line">#使用price均值对NA进行填充</span><br><span class="line">df[&#39;price&#39;].fillna(df[&#39;price&#39;].mean())</span><br><span class="line">0 1200.0</span><br><span class="line">1 3299.5</span><br><span class="line">2 2133.0</span><br><span class="line">3 5433.0</span><br><span class="line">4 3299.5</span><br><span class="line">5 4432.0</span><br><span class="line">Name: price, dtype: float64</span><br></pre></td></tr></table></figure>
</li>
<li><p>清理空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#清除city字段中的字符空格</span><br><span class="line"># 该方法只能去除字段开头与结尾的空格，不能去除中间的空格，比如&quot; guanzhou &quot;能变成“guanzhou”,但&quot;shen zhen&quot;仍是“shen zhen”</span><br><span class="line">df[&#39;city&#39;]&#x3D;df[&#39;city&#39;].map(str.strip)</span><br></pre></td></tr></table></figure>
</li>
<li><p>大小写转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#city列大小写转换</span><br><span class="line"># 通常可以用来统一某列的值</span><br><span class="line">df[&#39;city&#39;]&#x3D;df[&#39;city&#39;].str.lower()</span><br></pre></td></tr></table></figure>
</li>
<li><p>转换数据类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#更改数据格式</span><br><span class="line"></span><br><span class="line">df[&#39;price&#39;].astype(&#39;int&#39;)</span><br><span class="line">0 1200</span><br><span class="line">1 3299</span><br><span class="line">2 2133</span><br><span class="line">3 5433</span><br><span class="line">4 3299</span><br><span class="line">5 4432</span><br><span class="line">Name: price, dtype: int32</span><br></pre></td></tr></table></figure>
</li>
<li><p>更改列名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#更改列名称</span><br><span class="line">df.rename(columns&#x3D;&#123;&#39;category&#39;: &#39;category-size&#39;&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除重复值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 数据展示</span><br><span class="line">#df[&#39;city&#39;]</span><br><span class="line">#</span><br><span class="line">#0 beijing</span><br><span class="line">#1 sh</span><br><span class="line">#2 guangzhou</span><br><span class="line">#3 shenzhen</span><br><span class="line">#4 shanghai</span><br><span class="line">#5 beijing</span><br><span class="line">#Name: city, dtype: object</span><br><span class="line"></span><br><span class="line">#删除后出现的重复值</span><br><span class="line">df[&#39;city&#39;].drop_duplicates()</span><br><span class="line">0 beijing</span><br><span class="line">1 sh</span><br><span class="line">2 guangzhou</span><br><span class="line">3  shenzhen</span><br><span class="line">4 shanghai</span><br><span class="line">Name: city, dtype: object</span><br><span class="line"></span><br><span class="line">#删除先出现的重复值</span><br><span class="line">df[&#39;city&#39;].drop_duplicates(keep&#x3D;&#39;last&#39;)</span><br><span class="line">1 sh</span><br><span class="line">2 guangzhou</span><br><span class="line">3 shenzhen</span><br><span class="line">4 shanghai</span><br><span class="line">5 beijing</span><br><span class="line">Name: city, dtype: objec</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据修改及替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#数据替换</span><br><span class="line">df[&#39;city&#39;].replace(&#39;sh&#39;, &#39;shanghai&#39;)</span><br><span class="line">0 beijing</span><br><span class="line">1 shanghai</span><br><span class="line">2 guangzhou</span><br><span class="line">3 shenzhen</span><br><span class="line">4 shanghai</span><br><span class="line">5 beijing</span><br><span class="line">Name: city, dtype: object</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4-数据预处理"><a href="#4-数据预处理" class="headerlink" title="4 数据预处理"></a>4 数据预处理</h3><ul>
<li>数据表合并<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 创建新表</span><br><span class="line">df1&#x3D;pd.DataFrame(&#123;&quot;id&quot;:[1001,1002,1003,1004,1005,1006,1007,1008],</span><br><span class="line"> &quot;gender&quot;:[&#39;male&#39;,&#39;female&#39;,&#39;male&#39;,&#39;female&#39;,&#39;male</span><br><span class="line">&#39;,&#39;female&#39;,&#39;male&#39;,&#39;female&#39;],</span><br><span class="line"> &quot;pay&quot;:[&#39;Y&#39;,&#39;N&#39;,&#39;Y&#39;,&#39;Y&#39;,&#39;N&#39;,&#39;Y&#39;,&#39;N&#39;,&#39;Y&#39;,],</span><br><span class="line"> &quot;m-point&quot;:[10,12,20,40,40,40,30,20]&#125;)</span><br><span class="line"></span><br><span class="line">#数据表匹配合并，4种不同合并方式</span><br><span class="line">df_inner&#x3D;pd.merge(df,df1,how&#x3D;&#39;inner&#39;)</span><br><span class="line">df_left&#x3D;pd.merge(df,df1,how&#x3D;&#39;left&#39;)</span><br><span class="line">df_right&#x3D;pd.merge(df,df1,how&#x3D;&#39;right&#39;)</span><br><span class="line">df_outer&#x3D;pd.merge(df,df1,how&#x3D;&#39;outer&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>四种不同方式<a href="https://www.cnblogs.com/ykit/p/12397924.html" target="_blank" rel="noopener">详解</a>：</p>
<p>inner： 保留共同元素所在行</p>
<p>outer: 保留所有样本元素，不存在的元素特征会自动补充 nan</p>
<p>left: 保留表1中所有元素，不存在元素会自动补充 nan</p>
<p>right: 保留表2中所有元素，不存在元素会自动补充 nan</p>
<ul>
<li>设置索引列<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#设置索引列</span><br><span class="line">df_inner.set_index(&#39;id&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>此时索引列不再参与columns的排序</p>
<ul>
<li><p>排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 按特定列的值排序</span><br><span class="line">df_inner.sort_values(by&#x3D;[&#39;age&#39;])</span><br><span class="line"></span><br><span class="line">#按索引列排序</span><br><span class="line">df_inner.sort_index()</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据分组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#如果price列的值&gt;3000，group列显示high，否则显示low</span><br><span class="line">df_inner[&#39;group&#39;] &#x3D; np.where(df_inner[&#39;price&#39;] &gt; 3000,&#39;high&#39;,&#39;low</span><br><span class="line">&#39;)</span><br><span class="line"></span><br><span class="line">#对复合多个条件的数据进行分组标记</span><br><span class="line">#loc函数见第5节</span><br><span class="line">df_inner.loc[(df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beijing&#39;) &amp; (df_inner[&#39;price&#39;]</span><br><span class="line"> &gt;&#x3D; 4000), &#39;sign&#39;]&#x3D;1</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据分列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#对category字段的值依次进行分列，并创建数据表，索引值为df_inner的索引列，列</span><br><span class="line">名称为category和size</span><br><span class="line"></span><br><span class="line">split&#x3D;pd.DataFrame((x.split(&#39;-&#39;) for x in df_inner[&#39;category&#39;]),index&#x3D;d</span><br><span class="line">f_inner.index,columns&#x3D;[&#39;category&#39;,&#39;size&#39;])</span><br><span class="line"></span><br><span class="line">#将完成分列后的数据表与原df_inner数据表进行匹配</span><br><span class="line">df_inner&#x3D;pd.merge(df_inner,split,right_index&#x3D;True, left_index&#x3D;Tru</span><br><span class="line">e)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>p.s. 由于两个合并的列有重复列标，两个列表的名字自动发生变化（此例中由’category’变为’category-A’与’category-B’）</p>
<h3 id="5-数据提取"><a href="#5-数据提取" class="headerlink" title="5 数据提取"></a>5 数据提取</h3><ul>
<li><p>按标签提取（loc）<br>Loc函数按数据表的索引标签进行提取。使用冒号可以限定提取数据的范围，冒号前面为开始的标签值，后面为结束的标签值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#按索引提取单行的数值</span><br><span class="line">df_inner.loc[3]</span><br><span class="line"></span><br><span class="line">id 1004</span><br><span class="line">date 2013-01-05 00:00:00</span><br><span class="line">city shenzhen</span><br><span class="line">category 110-C</span><br><span class="line">age 32</span><br><span class="line">price 5433</span><br><span class="line">gender female</span><br><span class="line">m-point 40</span><br><span class="line">pay Y</span><br><span class="line">group high</span><br><span class="line">sign NaN</span><br><span class="line">category_1 110</span><br><span class="line">size C</span><br><span class="line">Name: 3, dtype: object</span><br><span class="line"></span><br><span class="line">#按索引提取区域行数值</span><br><span class="line">df_inner.loc[0:5]</span><br><span class="line"></span><br><span class="line">#重设索引</span><br><span class="line">df_inner.reset_index()</span><br><span class="line"></span><br><span class="line">#设置日期为索引</span><br><span class="line">df_inner&#x3D;df_inner.set_index(&#39;date&#39;)</span><br><span class="line"></span><br><span class="line">#提取4日之前的所有数据</span><br><span class="line">df_inner[:&#39;2013-01-04&#39;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>按位置提取（iloc）<br>使用iloc函数按位置对数据表中的数据进行提取，这里冒号前后<br>的数字不再是索引的标签名称，而是数据所在的位置，从0开始。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#使用iloc按位置区域提取数据</span><br><span class="line">df_inner.iloc[:3,:2]</span><br><span class="line"></span><br><span class="line">#使用iloc按位置单独提取数据</span><br><span class="line">df_inner.iloc[[0,2,5],[4,5]]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>按标签和位置提取(ix)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#使用ix按索引标签和位置混合提取数据</span><br><span class="line">df_inner.ix[:&#39;2013-01-03&#39;,:4]</span><br></pre></td></tr></table></figure>
</li>
<li><p>按条件提取(区域和条件值)</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#判断city列的值是否为beijing</span><br><span class="line">df_inner[&#39;city&#39;].isin([&#39;beijing&#39;])</span><br><span class="line"></span><br><span class="line">date</span><br><span class="line">2013-01-02 True</span><br><span class="line">2013-01-05 False</span><br><span class="line">2013-01-07 True</span><br><span class="line">2013-01-06 False</span><br><span class="line">2013-01-03 False</span><br><span class="line">2013-01-04 False</span><br><span class="line">Name: city, dtype: bool</span><br><span class="line"></span><br><span class="line">#先判断city列里是否包含beijing和shanghai，然后将复合条件的数据提取出来。</span><br><span class="line"># 成功原理是布尔序列取值</span><br><span class="line">df_inner.loc[df_inner[&#39;city&#39;].isin([&#39;beijing&#39;,&#39;shanghai&#39;])]</span><br></pre></td></tr></table></figure>
<p>数值提取还可以完成类似数据分列的工作，从合并的数值中提取出指定的数值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">category&#x3D;df_inner[&#39;category&#39;]</span><br><span class="line">0 100-A</span><br><span class="line">3 110-C</span><br><span class="line">5 130-F</span><br><span class="line">4 210-A</span><br><span class="line">1 100-B</span><br><span class="line">2 110-A</span><br><span class="line">Name: category, dtype: object</span><br><span class="line"></span><br><span class="line">#提取前三个字符，并生成数据表</span><br><span class="line">df2&#x3D;pd.DataFrame(category.str[:3])</span><br></pre></td></tr></table></figure></p>
<h3 id="6-数据筛选"><a href="#6-数据筛选" class="headerlink" title="6 数据筛选"></a>6 数据筛选</h3><ul>
<li>按条件筛选（与、或、非）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#使用“与”条件进行筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) &amp; (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;]]</span><br><span class="line"></span><br><span class="line">#使用“或”条件筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) | (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;age&#39;])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#使用“或”条件筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) | (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;age&#39;])</span><br><span class="line"></span><br><span class="line">#对筛选后的数据按price字段进行求和</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) | (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;,&#39;price&#39;]].sort_values([&#39;age</span><br><span class="line">&#39;]).price.sum()</span><br><span class="line"></span><br><span class="line">19796</span><br><span class="line"></span><br><span class="line">#使用“非”条件进行筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;city&#39;] !&#x3D; &#39;beijing&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,</span><br><span class="line">&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;id&#39;])</span><br><span class="line"></span><br><span class="line">#对筛选后的数据按city列进行计数(重复值算不同项)</span><br><span class="line">df_inner.loc[(df_inner[&#39;city&#39;] !&#x3D; &#39;beijing&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,</span><br><span class="line">&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;id&#39;]).city.count()</span><br><span class="line"></span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">#使用query函数进行筛选</span><br><span class="line">df_inner.query(&#39;city &#x3D;&#x3D; [&quot;beijing&quot;, &quot;shanghai&quot;]&#39;)</span><br><span class="line"></span><br><span class="line">#对筛选后的结果按price进行求和</span><br><span class="line">df_inner.query(&#39;city &#x3D;&#x3D; [&quot;beijing&quot;, &quot;shanghai&quot;]&#39;).price.sum()</span><br><span class="line"></span><br><span class="line">12230</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="7-数据汇总"><a href="#7-数据汇总" class="headerlink" title="7 数据汇总"></a>7 数据汇总</h3><p>Groupby是进行分类汇总的函数，使用方法很简单，制定要分组<br>的列名称就可以，也可以同时制定多个列名称，groupby按列名称出<br>现的顺序进行分组。同时要制定分组后的汇总方式，常见的是计数和<br>求和两种。</p>
<ul>
<li><p>分类汇总</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 对所有列进行计数汇总</span><br><span class="line">df_inner.groupby(&#39;city&#39;).count()</span><br><span class="line"></span><br><span class="line">#对特定的ID列进行计数汇总</span><br><span class="line">df_inner.groupby(&#39;city&#39;)[&#39;id&#39;].count()</span><br><span class="line"></span><br><span class="line">city</span><br><span class="line">beijing 2</span><br><span class="line">guangzhou 1</span><br><span class="line">shanghai 2</span><br><span class="line">shenzhen 1</span><br><span class="line">Name: id, dtype: int64</span><br><span class="line"></span><br><span class="line">#对两个字段city和size分类，对id进行汇总计数</span><br><span class="line">df_inner.groupby([&#39;city&#39;,&#39;size&#39;])[&#39;id&#39;].count()</span><br><span class="line">city size</span><br><span class="line">beijing A 1</span><br><span class="line">F 1</span><br><span class="line">guangzhou A 1</span><br><span class="line">shanghai A 1</span><br><span class="line">B 1</span><br><span class="line">shenzhen C 1</span><br><span class="line">Name: id, dtype: int64</span><br><span class="line"></span><br><span class="line">#对city字段进行汇总并计算price的合计和均值。</span><br><span class="line">df_inner.groupby(&#39;city&#39;)[&#39;price&#39;].agg([len,np.sum, np.mean])</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据透视</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#数据透视表</span><br><span class="line">pd.pivot_table(df_inner,index&#x3D;[&quot;city&quot;],values&#x3D;[&quot;price&quot;],columns&#x3D;[</span><br><span class="line">&quot;size&quot;],aggfunc&#x3D;[len,np.sum],fill_value&#x3D;0,margins&#x3D;True)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="8-数据统计"><a href="#8-数据统计" class="headerlink" title="8 数据统计"></a>8 数据统计</h3><ul>
<li><p>数据采样<br>Sample是进行数据采样的函数，设置n的数量就可以了。函数自动返回参与的结果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#简单的数据采样</span><br><span class="line">df_inner.sample(n&#x3D;3)</span><br><span class="line"></span><br><span class="line">#手动设置采样权重</span><br><span class="line">weights &#x3D; [0, 0, 0, 0, 0.5, 0.5]</span><br><span class="line">df_inner.sample(n&#x3D;2, weights&#x3D;weights)</span><br><span class="line"></span><br><span class="line">#采样后不放回</span><br><span class="line">df_inner.sample(n&#x3D;6, replace&#x3D;False)</span><br><span class="line"></span><br><span class="line">#采样后放回（可能重复）</span><br><span class="line">df_inner.sample(n&#x3D;6, replace&#x3D;True)</span><br></pre></td></tr></table></figure>
</li>
<li><p>描述统计<br>Describe函数是进行描述统计的函数，自动生成数据的数量，均<br>值，标准差等数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#数据表描述性统计</span><br><span class="line">#只针对数值类型</span><br><span class="line">df_inner.describe().round(2).T</span><br></pre></td></tr></table></figure>
</li>
<li><p>统计特征</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#标准差</span><br><span class="line">df_inner[&#39;price&#39;].std()</span><br><span class="line">1523.3516556155596</span><br><span class="line"></span><br><span class="line">#两个字段间的协方差</span><br><span class="line">df_inner[&#39;price&#39;].cov(df_inner[&#39;m-point&#39;])</span><br><span class="line">17263.200000000001</span><br><span class="line"></span><br><span class="line">#数据表中所有字段间的协方差</span><br><span class="line">df_inner.cov()</span><br><span class="line"></span><br><span class="line">#相关性分析</span><br><span class="line">#Corr函数用来计算数据间的相关系数，可以单独对特定数据进行</span><br><span class="line">计算，也可以对整个数据表中各个列进行计算。相关系数在-1到1之</span><br><span class="line">间，接近1为正相关，接近-1为负相关，0为不相关。</span><br><span class="line">df_inner[&#39;price&#39;].corr(df_inner[&#39;m-point&#39;])</span><br><span class="line"></span><br><span class="line">0.77466555617085264</span><br><span class="line"></span><br><span class="line">#数据表相关性分析</span><br><span class="line">df_inner.corr()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="9-数据输出"><a href="#9-数据输出" class="headerlink" title="9 数据输出"></a>9 数据输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#输出到Excel格式</span><br><span class="line">df_inner.to_Excel(&#39;Excel_to_Python.xlsx&#39;, sheet_name&#x3D;&#39;bluewhale_c</span><br><span class="line">c&#39;)</span><br><span class="line"></span><br><span class="line">#输出到CSV格式</span><br><span class="line">df_inner.to_csv(&#39;Excel_to_Python.csv&#39;)</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

 

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Excel-Pandas/" rel="tag"><i class="fa fa-tags" aria-hidden="true"></i>
 Excel Pandas</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/12/03/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" rel="prev" title="WIFI姿势识别学习记录">
      <i class="fa fa-chevron-left"></i> WIFI姿势识别学习记录
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-生成数据表"><span class="nav-number">2.</span> <span class="nav-text">1 生成数据表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-数据表检查"><span class="nav-number">3.</span> <span class="nav-text">2 数据表检查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-数据表清洗"><span class="nav-number">4.</span> <span class="nav-text">3 数据表清洗</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-数据预处理"><span class="nav-number">5.</span> <span class="nav-text">4 数据预处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-数据提取"><span class="nav-number">6.</span> <span class="nav-text">5 数据提取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-数据筛选"><span class="nav-number">7.</span> <span class="nav-text">6 数据筛选</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-数据汇总"><span class="nav-number">8.</span> <span class="nav-text">7 数据汇总</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-数据统计"><span class="nav-number">9.</span> <span class="nav-text">8 数据统计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-数据输出"><span class="nav-number">10.</span> <span class="nav-text">9 数据输出</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mona"
      src="/images/A.png">
  <p class="site-author-name" itemprop="name">Mona</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">122</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">82</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/moneyna" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;moneyna" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>

	 
   <a href="/">
      <img class="site-author-image" itemprop="image"
        src="/images/A.png"
        alt="Mona" />
   </a>

  

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mona</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
