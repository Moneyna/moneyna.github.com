<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/A.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Moneyna 的杂货铺">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Moneyna 的杂货铺">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Mona">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>Moneyna 的杂货铺</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Moneyna 的杂货铺</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">人生得意需尽欢</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/03/11/Python-&&-ML/%E3%80%8A%E4%BB%8EExcel%E5%88%B0Python%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/03/11/Python-&&-ML/%E3%80%8A%E4%BB%8EExcel%E5%88%B0Python%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">Python-&&-ML/《从Excel到Python——数据分析进阶指南》阅读笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-03-11 21:28:34" itemprop="dateCreated datePublished" datetime="2021-03-11T21:28:34+08:00">2021-03-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-ML/" itemprop="url" rel="index"><span itemprop="name">Python-&&-ML</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>任何事情总是要开始第一步的吧？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br></pre></td></tr></table></figure>
<h3 id="1-生成数据表"><a href="#1-生成数据表" class="headerlink" title="1 生成数据表"></a>1 生成数据表</h3><ul>
<li><p>导入文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df&#x3D;pd.DataFrame(pd.read_csv(&#39;name.csv&#39;,header&#x3D;1))</span><br><span class="line">df&#x3D;pd.DataFrame(pd.read_Excel(&#39;name.xlsx&#39;))</span><br></pre></td></tr></table></figure>
</li>
<li><p>直接生成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df &#x3D; pd.DataFrame(&#123;&quot;id&quot;:[1001,1002,1003,1004,1005,1006], </span><br><span class="line"> &quot;date&quot;:pd.date_range(&#39;20130102&#39;, periods&#x3D;6),</span><br><span class="line"> &quot;city&quot;:[&#39;Beijing &#39;, &#39;SH&#39;, &#39; guangzhou &#39;, &#39;Shen zhen&#39;, &#39;shanghai&#39;, &#39;BEIJING &#39;],</span><br><span class="line"> &quot;age&quot;:[23,44,54,32,34,32],</span><br><span class="line"> &quot;category&quot;:[&#39;100-A&#39;,&#39;100-B&#39;,&#39;110-A&#39;,&#39;110-C&#39;,&#39;210-A&#39;,&#39;130-F&#39;],</span><br><span class="line"> &quot;price&quot;:[1200,np.nan,2133,5433,np.nan,4432]&#125;,</span><br><span class="line"> columns &#x3D;[&#39;id&#39;,&#39;date&#39;,&#39;city&#39;,&#39;category&#39;,&#39;age&#39;,&#39;price&#39;])</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>数据中有缺失（“NA”），脏数据（‘city’列数据不统一）</p>
<h3 id="2-数据表检查"><a href="#2-数据表检查" class="headerlink" title="2 数据表检查"></a>2 数据表检查</h3><ul>
<li><p>查看行列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.shape</span><br><span class="line">(6,6)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据表信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">df.info()</span><br><span class="line"></span><br><span class="line">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span><br><span class="line">RangeIndex: 6 entries, 0 to 5</span><br><span class="line">Data columns (total 6 columns):</span><br><span class="line">id 6 non-null int64</span><br><span class="line">date 6 non-null datetime64[ns]</span><br><span class="line">city 6 non-null object</span><br><span class="line">category 6 non-null object</span><br><span class="line">age 6 non-null int64</span><br><span class="line">price 4 non-null float64</span><br><span class="line">dtypes: datetime64[ns](1), float64(1), int64(2), object(2)</span><br><span class="line">memory usage: 368.0+ bytes</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据表各列数据格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">df.dtypes</span><br><span class="line">id int64</span><br><span class="line">date datetime64[ns]</span><br><span class="line">city object</span><br><span class="line">category object</span><br><span class="line">age int64</span><br><span class="line">price float64</span><br><span class="line">dtype: object</span><br><span class="line"></span><br><span class="line">#查看单列格式</span><br><span class="line">df[&#39;B&#39;].dtype</span><br><span class="line">dtype(&#39;int64&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据空值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">df.isnull()</span><br><span class="line"></span><br><span class="line">#检查特定列空值</span><br><span class="line">df[&#39;price&#39;].isnull()</span><br><span class="line">0 False</span><br><span class="line">1 True</span><br><span class="line">2 False</span><br><span class="line">3 False</span><br><span class="line">4 True</span><br><span class="line">5 False</span><br><span class="line">Name: price, dtype: bool</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看唯一值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df[&#39;city&#39;].unique()</span><br><span class="line"></span><br><span class="line">array([&#39;Beijing &#39;, &#39;SH&#39;, &#39; guangzhou &#39;, &#39;Shenzhen&#39;, &#39;shanghai&#39;, &#39;</span><br><span class="line">BEIJING &#39;], dtype&#x3D;object)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看数据表数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">df.values</span><br><span class="line"></span><br><span class="line">array([[1001, Timestamp(&#39;2013-01-02 00:00:00&#39;), &#39;Beijing &#39;, &#39;100-</span><br><span class="line">A&#39;, 23,</span><br><span class="line"> 1200.0],</span><br><span class="line"> [1002, Timestamp(&#39;2013-01-03 00:00:00&#39;), &#39;SH&#39;, &#39;100-B&#39;, 44</span><br><span class="line">, nan],</span><br><span class="line"> [1003, Timestamp(&#39;2013-01-04 00:00:00&#39;), &#39; guangzhou &#39;, &#39;1</span><br><span class="line">10-A&#39;, 54,</span><br><span class="line"> 2133.0],</span><br><span class="line"> [1004, Timestamp(&#39;2013-01-05 00:00:00&#39;), &#39;Shenzhen&#39;, &#39;110-</span><br><span class="line">C&#39;, 32,</span><br><span class="line"> 5433.0],</span><br><span class="line"> [1005, Timestamp(&#39;2013-01-06 00:00:00&#39;), &#39;shanghai&#39;, &#39;210-</span><br><span class="line">A&#39;, 34,</span><br><span class="line"> nan],</span><br><span class="line"> [1006, Timestamp(&#39;2013-01-07 00:00:00&#39;), &#39;BEIJING &#39;, &#39;130-</span><br><span class="line">F&#39;, 32,</span><br><span class="line"> 4432.0]], dtype&#x3D;object)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看列名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df.columns</span><br><span class="line">Index([&#39;id&#39;, &#39;date&#39;, &#39;city&#39;, &#39;category&#39;, &#39;age&#39;, &#39;price&#39;], dtype&#x3D;&#39;</span><br><span class="line">object&#39;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看部分数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#查看前10行数据</span><br><span class="line">df.head()</span><br><span class="line"></span><br><span class="line">#查看前3行数据</span><br><span class="line">df.head(3)</span><br><span class="line"></span><br><span class="line">#查看后10行数据</span><br><span class="line">df.tail()</span><br><span class="line"></span><br><span class="line">#查看后3行数据</span><br><span class="line">df.tail(3)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-数据表清洗"><a href="#3-数据表清洗" class="headerlink" title="3 数据表清洗"></a>3 数据表清洗</h3><ul>
<li><p>处理空值（删除或填充）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#删除数据表中含有空值的行</span><br><span class="line">df.dropna(how&#x3D;&#39;any&#39;)</span><br><span class="line"></span><br><span class="line">#使用数字0填充数据表中空值</span><br><span class="line">df.fillna(value&#x3D;0)</span><br><span class="line"></span><br><span class="line">#使用price均值对NA进行填充</span><br><span class="line">df[&#39;price&#39;].fillna(df[&#39;price&#39;].mean())</span><br><span class="line">0 1200.0</span><br><span class="line">1 3299.5</span><br><span class="line">2 2133.0</span><br><span class="line">3 5433.0</span><br><span class="line">4 3299.5</span><br><span class="line">5 4432.0</span><br><span class="line">Name: price, dtype: float64</span><br></pre></td></tr></table></figure>
</li>
<li><p>清理空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#清除city字段中的字符空格</span><br><span class="line"># 该方法只能去除字段开头与结尾的空格，不能去除中间的空格，比如&quot; guanzhou &quot;能变成“guanzhou”,但&quot;shen zhen&quot;仍是“shen zhen”</span><br><span class="line">df[&#39;city&#39;]&#x3D;df[&#39;city&#39;].map(str.strip)</span><br></pre></td></tr></table></figure>
</li>
<li><p>大小写转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#city列大小写转换</span><br><span class="line"># 通常可以用来统一某列的值</span><br><span class="line">df[&#39;city&#39;]&#x3D;df[&#39;city&#39;].str.lower()</span><br></pre></td></tr></table></figure>
</li>
<li><p>转换数据类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#更改数据格式</span><br><span class="line"></span><br><span class="line">df[&#39;price&#39;].astype(&#39;int&#39;)</span><br><span class="line">0 1200</span><br><span class="line">1 3299</span><br><span class="line">2 2133</span><br><span class="line">3 5433</span><br><span class="line">4 3299</span><br><span class="line">5 4432</span><br><span class="line">Name: price, dtype: int32</span><br></pre></td></tr></table></figure>
</li>
<li><p>更改列名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#更改列名称</span><br><span class="line">df.rename(columns&#x3D;&#123;&#39;category&#39;: &#39;category-size&#39;&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除重复值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 数据展示</span><br><span class="line">#df[&#39;city&#39;]</span><br><span class="line">#</span><br><span class="line">#0 beijing</span><br><span class="line">#1 sh</span><br><span class="line">#2 guangzhou</span><br><span class="line">#3 shenzhen</span><br><span class="line">#4 shanghai</span><br><span class="line">#5 beijing</span><br><span class="line">#Name: city, dtype: object</span><br><span class="line"></span><br><span class="line">#删除后出现的重复值</span><br><span class="line">df[&#39;city&#39;].drop_duplicates()</span><br><span class="line">0 beijing</span><br><span class="line">1 sh</span><br><span class="line">2 guangzhou</span><br><span class="line">3  shenzhen</span><br><span class="line">4 shanghai</span><br><span class="line">Name: city, dtype: object</span><br><span class="line"></span><br><span class="line">#删除先出现的重复值</span><br><span class="line">df[&#39;city&#39;].drop_duplicates(keep&#x3D;&#39;last&#39;)</span><br><span class="line">1 sh</span><br><span class="line">2 guangzhou</span><br><span class="line">3 shenzhen</span><br><span class="line">4 shanghai</span><br><span class="line">5 beijing</span><br><span class="line">Name: city, dtype: objec</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据修改及替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#数据替换</span><br><span class="line">df[&#39;city&#39;].replace(&#39;sh&#39;, &#39;shanghai&#39;)</span><br><span class="line">0 beijing</span><br><span class="line">1 shanghai</span><br><span class="line">2 guangzhou</span><br><span class="line">3 shenzhen</span><br><span class="line">4 shanghai</span><br><span class="line">5 beijing</span><br><span class="line">Name: city, dtype: object</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4-数据预处理"><a href="#4-数据预处理" class="headerlink" title="4 数据预处理"></a>4 数据预处理</h3><ul>
<li>数据表合并<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 创建新表</span><br><span class="line">df1&#x3D;pd.DataFrame(&#123;&quot;id&quot;:[1001,1002,1003,1004,1005,1006,1007,1008],</span><br><span class="line"> &quot;gender&quot;:[&#39;male&#39;,&#39;female&#39;,&#39;male&#39;,&#39;female&#39;,&#39;male</span><br><span class="line">&#39;,&#39;female&#39;,&#39;male&#39;,&#39;female&#39;],</span><br><span class="line"> &quot;pay&quot;:[&#39;Y&#39;,&#39;N&#39;,&#39;Y&#39;,&#39;Y&#39;,&#39;N&#39;,&#39;Y&#39;,&#39;N&#39;,&#39;Y&#39;,],</span><br><span class="line"> &quot;m-point&quot;:[10,12,20,40,40,40,30,20]&#125;)</span><br><span class="line"></span><br><span class="line">#数据表匹配合并，4种不同合并方式</span><br><span class="line">df_inner&#x3D;pd.merge(df,df1,how&#x3D;&#39;inner&#39;)</span><br><span class="line">df_left&#x3D;pd.merge(df,df1,how&#x3D;&#39;left&#39;)</span><br><span class="line">df_right&#x3D;pd.merge(df,df1,how&#x3D;&#39;right&#39;)</span><br><span class="line">df_outer&#x3D;pd.merge(df,df1,how&#x3D;&#39;outer&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>四种不同方式<a href="https://www.cnblogs.com/ykit/p/12397924.html" target="_blank" rel="noopener">详解</a>：</p>
<p>inner： 保留共同元素所在行</p>
<p>outer: 保留所有样本元素，不存在的元素特征会自动补充 nan</p>
<p>left: 保留表1中所有元素，不存在元素会自动补充 nan</p>
<p>right: 保留表2中所有元素，不存在元素会自动补充 nan</p>
<ul>
<li>设置索引列<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#设置索引列</span><br><span class="line">df_inner.set_index(&#39;id&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>此时索引列不再参与columns的排序</p>
<ul>
<li><p>排序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 按特定列的值排序</span><br><span class="line">df_inner.sort_values(by&#x3D;[&#39;age&#39;])</span><br><span class="line"></span><br><span class="line">#按索引列排序</span><br><span class="line">df_inner.sort_index()</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据分组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#如果price列的值&gt;3000，group列显示high，否则显示low</span><br><span class="line">df_inner[&#39;group&#39;] &#x3D; np.where(df_inner[&#39;price&#39;] &gt; 3000,&#39;high&#39;,&#39;low</span><br><span class="line">&#39;)</span><br><span class="line"></span><br><span class="line">#对复合多个条件的数据进行分组标记</span><br><span class="line">#loc函数见第5节</span><br><span class="line">df_inner.loc[(df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beijing&#39;) &amp; (df_inner[&#39;price&#39;]</span><br><span class="line"> &gt;&#x3D; 4000), &#39;sign&#39;]&#x3D;1</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据分列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#对category字段的值依次进行分列，并创建数据表，索引值为df_inner的索引列，列</span><br><span class="line">名称为category和size</span><br><span class="line"></span><br><span class="line">split&#x3D;pd.DataFrame((x.split(&#39;-&#39;) for x in df_inner[&#39;category&#39;]),index&#x3D;d</span><br><span class="line">f_inner.index,columns&#x3D;[&#39;category&#39;,&#39;size&#39;])</span><br><span class="line"></span><br><span class="line">#将完成分列后的数据表与原df_inner数据表进行匹配</span><br><span class="line">df_inner&#x3D;pd.merge(df_inner,split,right_index&#x3D;True, left_index&#x3D;Tru</span><br><span class="line">e)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>p.s. 由于两个合并的列有重复列标，两个列表的名字自动发生变化（此例中由’category’变为’category-A’与’category-B’）</p>
<h3 id="5-数据提取"><a href="#5-数据提取" class="headerlink" title="5 数据提取"></a>5 数据提取</h3><ul>
<li><p>按标签提取（loc）<br>Loc函数按数据表的索引标签进行提取。使用冒号可以限定提取数据的范围，冒号前面为开始的标签值，后面为结束的标签值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#按索引提取单行的数值</span><br><span class="line">df_inner.loc[3]</span><br><span class="line"></span><br><span class="line">id 1004</span><br><span class="line">date 2013-01-05 00:00:00</span><br><span class="line">city shenzhen</span><br><span class="line">category 110-C</span><br><span class="line">age 32</span><br><span class="line">price 5433</span><br><span class="line">gender female</span><br><span class="line">m-point 40</span><br><span class="line">pay Y</span><br><span class="line">group high</span><br><span class="line">sign NaN</span><br><span class="line">category_1 110</span><br><span class="line">size C</span><br><span class="line">Name: 3, dtype: object</span><br><span class="line"></span><br><span class="line">#按索引提取区域行数值</span><br><span class="line">df_inner.loc[0:5]</span><br><span class="line"></span><br><span class="line">#重设索引</span><br><span class="line">df_inner.reset_index()</span><br><span class="line"></span><br><span class="line">#设置日期为索引</span><br><span class="line">df_inner&#x3D;df_inner.set_index(&#39;date&#39;)</span><br><span class="line"></span><br><span class="line">#提取4日之前的所有数据</span><br><span class="line">df_inner[:&#39;2013-01-04&#39;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>按位置提取（iloc）<br>使用iloc函数按位置对数据表中的数据进行提取，这里冒号前后<br>的数字不再是索引的标签名称，而是数据所在的位置，从0开始。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#使用iloc按位置区域提取数据</span><br><span class="line">df_inner.iloc[:3,:2]</span><br><span class="line"></span><br><span class="line">#使用iloc按位置单独提取数据</span><br><span class="line">df_inner.iloc[[0,2,5],[4,5]]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>按标签和位置提取(ix)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#使用ix按索引标签和位置混合提取数据</span><br><span class="line">df_inner.ix[:&#39;2013-01-03&#39;,:4]</span><br></pre></td></tr></table></figure>
</li>
<li><p>按条件提取(区域和条件值)</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#判断city列的值是否为beijing</span><br><span class="line">df_inner[&#39;city&#39;].isin([&#39;beijing&#39;])</span><br><span class="line"></span><br><span class="line">date</span><br><span class="line">2013-01-02 True</span><br><span class="line">2013-01-05 False</span><br><span class="line">2013-01-07 True</span><br><span class="line">2013-01-06 False</span><br><span class="line">2013-01-03 False</span><br><span class="line">2013-01-04 False</span><br><span class="line">Name: city, dtype: bool</span><br><span class="line"></span><br><span class="line">#先判断city列里是否包含beijing和shanghai，然后将复合条件的数据提取出来。</span><br><span class="line"># 成功原理是布尔序列取值</span><br><span class="line">df_inner.loc[df_inner[&#39;city&#39;].isin([&#39;beijing&#39;,&#39;shanghai&#39;])]</span><br></pre></td></tr></table></figure>
<p>数值提取还可以完成类似数据分列的工作，从合并的数值中提取出指定的数值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">category&#x3D;df_inner[&#39;category&#39;]</span><br><span class="line">0 100-A</span><br><span class="line">3 110-C</span><br><span class="line">5 130-F</span><br><span class="line">4 210-A</span><br><span class="line">1 100-B</span><br><span class="line">2 110-A</span><br><span class="line">Name: category, dtype: object</span><br><span class="line"></span><br><span class="line">#提取前三个字符，并生成数据表</span><br><span class="line">df2&#x3D;pd.DataFrame(category.str[:3])</span><br></pre></td></tr></table></figure></p>
<h3 id="6-数据筛选"><a href="#6-数据筛选" class="headerlink" title="6 数据筛选"></a>6 数据筛选</h3><ul>
<li>按条件筛选（与、或、非）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#使用“与”条件进行筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) &amp; (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;]]</span><br><span class="line"></span><br><span class="line">#使用“或”条件筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) | (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;age&#39;])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#使用“或”条件筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) | (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;age&#39;])</span><br><span class="line"></span><br><span class="line">#对筛选后的数据按price字段进行求和</span><br><span class="line">df_inner.loc[(df_inner[&#39;age&#39;] &gt; 25) | (df_inner[&#39;city&#39;] &#x3D;&#x3D; &#39;beiji</span><br><span class="line">ng&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,&#39;category&#39;,&#39;gender&#39;,&#39;price&#39;]].sort_values([&#39;age</span><br><span class="line">&#39;]).price.sum()</span><br><span class="line"></span><br><span class="line">19796</span><br><span class="line"></span><br><span class="line">#使用“非”条件进行筛选</span><br><span class="line">df_inner.loc[(df_inner[&#39;city&#39;] !&#x3D; &#39;beijing&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,</span><br><span class="line">&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;id&#39;])</span><br><span class="line"></span><br><span class="line">#对筛选后的数据按city列进行计数(重复值算不同项)</span><br><span class="line">df_inner.loc[(df_inner[&#39;city&#39;] !&#x3D; &#39;beijing&#39;), [&#39;id&#39;,&#39;city&#39;,&#39;age&#39;,</span><br><span class="line">&#39;category&#39;,&#39;gender&#39;]].sort_values([&#39;id&#39;]).city.count()</span><br><span class="line"></span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">#使用query函数进行筛选</span><br><span class="line">df_inner.query(&#39;city &#x3D;&#x3D; [&quot;beijing&quot;, &quot;shanghai&quot;]&#39;)</span><br><span class="line"></span><br><span class="line">#对筛选后的结果按price进行求和</span><br><span class="line">df_inner.query(&#39;city &#x3D;&#x3D; [&quot;beijing&quot;, &quot;shanghai&quot;]&#39;).price.sum()</span><br><span class="line"></span><br><span class="line">12230</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="7-数据汇总"><a href="#7-数据汇总" class="headerlink" title="7 数据汇总"></a>7 数据汇总</h3><p>Groupby是进行分类汇总的函数，使用方法很简单，制定要分组<br>的列名称就可以，也可以同时制定多个列名称，groupby按列名称出<br>现的顺序进行分组。同时要制定分组后的汇总方式，常见的是计数和<br>求和两种。</p>
<ul>
<li><p>分类汇总</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 对所有列进行计数汇总</span><br><span class="line">df_inner.groupby(&#39;city&#39;).count()</span><br><span class="line"></span><br><span class="line">#对特定的ID列进行计数汇总</span><br><span class="line">df_inner.groupby(&#39;city&#39;)[&#39;id&#39;].count()</span><br><span class="line"></span><br><span class="line">city</span><br><span class="line">beijing 2</span><br><span class="line">guangzhou 1</span><br><span class="line">shanghai 2</span><br><span class="line">shenzhen 1</span><br><span class="line">Name: id, dtype: int64</span><br><span class="line"></span><br><span class="line">#对两个字段city和size分类，对id进行汇总计数</span><br><span class="line">df_inner.groupby([&#39;city&#39;,&#39;size&#39;])[&#39;id&#39;].count()</span><br><span class="line">city size</span><br><span class="line">beijing A 1</span><br><span class="line">F 1</span><br><span class="line">guangzhou A 1</span><br><span class="line">shanghai A 1</span><br><span class="line">B 1</span><br><span class="line">shenzhen C 1</span><br><span class="line">Name: id, dtype: int64</span><br><span class="line"></span><br><span class="line">#对city字段进行汇总并计算price的合计和均值。</span><br><span class="line">df_inner.groupby(&#39;city&#39;)[&#39;price&#39;].agg([len,np.sum, np.mean])</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据透视</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#数据透视表</span><br><span class="line">pd.pivot_table(df_inner,index&#x3D;[&quot;city&quot;],values&#x3D;[&quot;price&quot;],columns&#x3D;[</span><br><span class="line">&quot;size&quot;],aggfunc&#x3D;[len,np.sum],fill_value&#x3D;0,margins&#x3D;True)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="8-数据统计"><a href="#8-数据统计" class="headerlink" title="8 数据统计"></a>8 数据统计</h3><ul>
<li><p>数据采样<br>Sample是进行数据采样的函数，设置n的数量就可以了。函数自动返回参与的结果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#简单的数据采样</span><br><span class="line">df_inner.sample(n&#x3D;3)</span><br><span class="line"></span><br><span class="line">#手动设置采样权重</span><br><span class="line">weights &#x3D; [0, 0, 0, 0, 0.5, 0.5]</span><br><span class="line">df_inner.sample(n&#x3D;2, weights&#x3D;weights)</span><br><span class="line"></span><br><span class="line">#采样后不放回</span><br><span class="line">df_inner.sample(n&#x3D;6, replace&#x3D;False)</span><br><span class="line"></span><br><span class="line">#采样后放回（可能重复）</span><br><span class="line">df_inner.sample(n&#x3D;6, replace&#x3D;True)</span><br></pre></td></tr></table></figure>
</li>
<li><p>描述统计<br>Describe函数是进行描述统计的函数，自动生成数据的数量，均<br>值，标准差等数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#数据表描述性统计</span><br><span class="line">#只针对数值类型</span><br><span class="line">df_inner.describe().round(2).T</span><br></pre></td></tr></table></figure>
</li>
<li><p>统计特征</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#标准差</span><br><span class="line">df_inner[&#39;price&#39;].std()</span><br><span class="line">1523.3516556155596</span><br><span class="line"></span><br><span class="line">#两个字段间的协方差</span><br><span class="line">df_inner[&#39;price&#39;].cov(df_inner[&#39;m-point&#39;])</span><br><span class="line">17263.200000000001</span><br><span class="line"></span><br><span class="line">#数据表中所有字段间的协方差</span><br><span class="line">df_inner.cov()</span><br><span class="line"></span><br><span class="line">#相关性分析</span><br><span class="line">#Corr函数用来计算数据间的相关系数，可以单独对特定数据进行</span><br><span class="line">计算，也可以对整个数据表中各个列进行计算。相关系数在-1到1之</span><br><span class="line">间，接近1为正相关，接近-1为负相关，0为不相关。</span><br><span class="line">df_inner[&#39;price&#39;].corr(df_inner[&#39;m-point&#39;])</span><br><span class="line"></span><br><span class="line">0.77466555617085264</span><br><span class="line"></span><br><span class="line">#数据表相关性分析</span><br><span class="line">df_inner.corr()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="9-数据输出"><a href="#9-数据输出" class="headerlink" title="9 数据输出"></a>9 数据输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#输出到Excel格式</span><br><span class="line">df_inner.to_Excel(&#39;Excel_to_Python.xlsx&#39;, sheet_name&#x3D;&#39;bluewhale_c</span><br><span class="line">c&#39;)</span><br><span class="line"></span><br><span class="line">#输出到CSV格式</span><br><span class="line">df_inner.to_csv(&#39;Excel_to_Python.csv&#39;)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/03/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/03/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">WIFI姿势识别学习记录</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-03 21:08:38" itemprop="dateCreated datePublished" datetime="2020-12-03T21:08:38+08:00">2020-12-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%A7%BF%E5%8A%BF%E8%AF%86%E5%88%AB/" itemprop="url" rel="index"><span itemprop="name">WIFI姿势识别</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>毕业设计项目是“基于WIFI动作识别的架子鼓模拟软件”<br>第一步先学动作识别吧</p>
<p>至于WIFI识别最基础的CSI获取参照“WIFI室内定位”分类</p>
<p><a href="tns.thss.tsinghua.edu.cn/widar3.0/">基于WiFi的公开手势数据集WiDAR—清华大学</a></p>
<p>小记录：</p>
<ol>
<li>常见的动作识别包括哪些动作？</li>
</ol>
<h3 id="中文论文或博客"><a href="#中文论文或博客" class="headerlink" title="中文论文或博客"></a>中文论文或博客</h3><p>不管怎么说，母语的接收信息能力总是更强一点</p>
<h4 id="1-基于WiFi信号的人体动作识别系统"><a href="#1-基于WiFi信号的人体动作识别系统" class="headerlink" title="1 基于WiFi信号的人体动作识别系统"></a>1 基于WiFi信号的人体动作识别系统</h4><p><a href="html.rhhz.net/buptjournal/html/20180320.htm">论文</a></p>
<p>动作识别是采用先收集数据再对比的方式得出的</p>
<p>采用了SRC分类算法</p>
<p>（我的软件也可以先采集动作，再识别。类似健身环大冒险）</p>
<h4 id="2-基于无线信号的手势识别研究现状调查"><a href="#2-基于无线信号的手势识别研究现状调查" class="headerlink" title="2 基于无线信号的手势识别研究现状调查"></a>2 基于无线信号的手势识别研究现状调查</h4><p><a href="https://blog.csdn.net/qq_16166139/article/details/51793472" target="_blank" rel="noopener">【博客】基于无线信号的手势识别研究现状调查</a></p>
<p>提到了几种姿势识别软件/系统</p>
<ol>
<li><p>WiTrace<br>可以追踪轨迹与动作，值得研究</p>
</li>
<li><p>WiSee<br><a href="wisee.cs.washington.edu">官网</a><br>检测多普勒频移</p>
</li>
<li><p>WiG （2015年）<br>基于5300网卡，最适合参考</p>
</li>
</ol>
<h4 id="3-信道状态信息在动作识别中的应用与异常分析"><a href="#3-信道状态信息在动作识别中的应用与异常分析" class="headerlink" title="3 信道状态信息在动作识别中的应用与异常分析"></a>3 信道状态信息在动作识别中的应用与异常分析</h4><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&amp;dbname=CJFDLAST2017&amp;filename=XXAQ201702012&amp;v=2TBM5JCBvGzAcpByn3k6lKy9tuXNp%25mmd2FJdG6v8YTrBWje4DuHv82b%25mmd2FVrWHM6MlrzKP" target="_blank" rel="noopener">论文</a></p>
<p>介绍到了什么是CSI，CSI优势是什么</p>
<p>CSI只能从WIFI无线网卡获得，而RSSI却很方便获得</p>
<p>介绍到WIFI键值识别，很像我之前想做的钢琴，键盘精度应该和钢琴差别不大</p>
<p>提到了一种异常数据处理方法，也许只后用得到</p>
<h4 id="4-基于WiFi信号的人体动作识别系统"><a href="#4-基于WiFi信号的人体动作识别系统" class="headerlink" title="4 基于WiFi信号的人体动作识别系统"></a>4 基于WiFi信号的人体动作识别系统</h4><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&amp;dbname=CJFDLAST2018&amp;filename=BJYD201803020&amp;v=sjT9j2XTV%25mmd2BxjB7IM%25mmd2B0NqbW6TT%25mmd2B7x7rOd5qmumn9H13xvWrsqKLvAZXc9v5mpkPZM" target="_blank" rel="noopener">论文</a><br><a href="html.rhhz.net/buptjournal/html/20180320.htm">地址2</a></p>
<p>提供了另一种处理方式，大致流程是先采集数据，再提取特征，然后比较</p>
<h4 id="5-一种基于WiFi信道状态信息的人体动作识别方法"><a href="#5-一种基于WiFi信道状态信息的人体动作识别方法" class="headerlink" title="5 一种基于WiFi信道状态信息的人体动作识别方法"></a>5 一种基于WiFi信道状态信息的人体动作识别方法</h4><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&amp;dbname=CJFDLAST2019&amp;filename=CGJS201911015&amp;v=8gUZSeCt02J79rbO30rbl5d7m5ass4stEoptteqqLrUtnNlPxAnLXFXN1Z77ub3o" target="_blank" rel="noopener">论文</a></p>
<p>思路可以借鉴，相比而言方式比较新</p>
<h4 id="6"><a href="#6" class="headerlink" title="6"></a>6</h4><p><a href=""></a></p>
<h4 id="7"><a href="#7" class="headerlink" title="7"></a>7</h4><p><a href=""></a></p>
<h4 id="8"><a href="#8" class="headerlink" title="8"></a>8</h4><p><a href=""></a></p>
<h4 id="9"><a href="#9" class="headerlink" title="9"></a>9</h4><p><a href=""></a></p>
<h4 id="10"><a href="#10" class="headerlink" title="10"></a>10</h4><p><a href=""></a></p>
<h4 id="11"><a href="#11" class="headerlink" title="11"></a>11</h4><p><a href=""></a></p>
<h4 id="12"><a href="#12" class="headerlink" title="12"></a>12</h4><p><a href=""></a></p>
<h4 id="13"><a href="#13" class="headerlink" title="13"></a>13</h4><p><a href=""></a></p>
<h4 id="14"><a href="#14" class="headerlink" title="14"></a>14</h4><p><a href=""></a></p>
<h4 id="15"><a href="#15" class="headerlink" title="15"></a>15</h4><p><a href=""></a></p>
<h4 id="16"><a href="#16" class="headerlink" title="16"></a>16</h4><p><a href=""></a></p>
<h4 id="17"><a href="#17" class="headerlink" title="17"></a>17</h4><p><a href=""></a></p>
<h4 id="18"><a href="#18" class="headerlink" title="18"></a>18</h4><p><a href=""></a></p>
<h4 id="19"><a href="#19" class="headerlink" title="19"></a>19</h4><p><a href=""></a></p>
<h3 id="英文论文或博客"><a href="#英文论文或博客" class="headerlink" title="英文论文或博客"></a>英文论文或博客</h3><h4 id="1-【待看】WIFI信号-深度学习，MIT-可穿墙透视评估人体姿态"><a href="#1-【待看】WIFI信号-深度学习，MIT-可穿墙透视评估人体姿态" class="headerlink" title="1 【待看】WIFI信号+深度学习，MIT 可穿墙透视评估人体姿态"></a>1 【待看】WIFI信号+深度学习，MIT 可穿墙透视评估人体姿态</h4><p><a href="https://www.jiqizhixin.com/articles/2018-06-13-5" target="_blank" rel="noopener">论文内容概述</a></p>
<p>MIT 的 “RF-Pose”系统，可以实现动作识别，从视频看精度似乎挺高的，不知到论文中内容可不可以学习</p>
<p>论文是2018年的，但使用了WIFI+CV的方式对神经网络进行训练，不知道实际有用信息有多少</p>
<h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><p><a href=""></a></p>
<h4 id="3"><a href="#3" class="headerlink" title="3"></a>3</h4><p><a href=""></a></p>
<h4 id="4"><a href="#4" class="headerlink" title="4"></a>4</h4><p><a href=""></a></p>
<h4 id="5"><a href="#5" class="headerlink" title="5"></a>5</h4><p><a href=""></a></p>
<h4 id="6-1"><a href="#6-1" class="headerlink" title="6"></a>6</h4><p><a href=""></a></p>
<h4 id="7-1"><a href="#7-1" class="headerlink" title="7"></a>7</h4><p><a href=""></a></p>
<h4 id="8-1"><a href="#8-1" class="headerlink" title="8"></a>8</h4><p><a href=""></a></p>
<h4 id="9-1"><a href="#9-1" class="headerlink" title="9"></a>9</h4><p><a href=""></a></p>
<h4 id="10-1"><a href="#10-1" class="headerlink" title="10"></a>10</h4><p><a href=""></a></p>
<h4 id="11-1"><a href="#11-1" class="headerlink" title="11"></a>11</h4><p><a href=""></a></p>
<h4 id="12-1"><a href="#12-1" class="headerlink" title="12"></a>12</h4><p><a href=""></a></p>
<h4 id="13-1"><a href="#13-1" class="headerlink" title="13"></a>13</h4><p><a href=""></a></p>
<h4 id="14-1"><a href="#14-1" class="headerlink" title="14"></a>14</h4><p><a href=""></a></p>
<h4 id="15-1"><a href="#15-1" class="headerlink" title="15"></a>15</h4><p><a href=""></a></p>
<h4 id="16-1"><a href="#16-1" class="headerlink" title="16"></a>16</h4><p><a href=""></a></p>
<h4 id="17-1"><a href="#17-1" class="headerlink" title="17"></a>17</h4><p><a href=""></a></p>
<h4 id="18-1"><a href="#18-1" class="headerlink" title="18"></a>18</h4><p><a href=""></a></p>
<h4 id="19-1"><a href="#19-1" class="headerlink" title="19"></a>19</h4><p><a href=""></a></p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/21/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/Widar2%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/21/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/Widar2%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">WIFI室内定位/Widar2代码解析</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-21 20:07:23" itemprop="dateCreated datePublished" datetime="2020-11-21T20:07:23+08:00">2020-11-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/" itemprop="url" rel="index"><span itemprop="name">WIFI室内定位</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h3><p><a href="http://tns.thss.tsinghua.edu.cn/wifiradar/index_chi.html" target="_blank" rel="noopener">代码地址</a></p>
<h3 id="2-细节"><a href="#2-细节" class="headerlink" title="2 细节"></a>2 细节</h3><p>SAGE：EM算法的变形，用于迭代估计参数TOF、AoA、DFS</p>
<blockquote>
<p>sage_set_const.m<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function sage_const &#x3D; sage_set_const(T, F, A, L, N, FI, TI, AS, TR, AR, DR, UR)</span><br><span class="line">% SAGE_SET_CONST: Set parameters for SAGE.</span><br><span class="line">    sage_const &#x3D; struct(&#39;T&#39;, T, &#39;F&#39;, F, &#39;A&#39;, A, &#39;L&#39;, L, &#39;N&#39;, N, ...</span><br><span class="line">        &#39;frequency_interval&#39;, FI, &#39;time_interval&#39;, TI, &#39;antenna_spatio&#39;, AS, ...</span><br><span class="line">        &#39;tof_range&#39;, TR, &#39;aoa_range&#39;, AR, &#39;doppler_range&#39;, DR, ...</span><br><span class="line">        &#39;update_ratio&#39;, UR);</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>顺着理解代码太复杂了，倒着来</p>
<p>最后的绘图<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">figure;</span><br><span class="line">plot(ground_truth(1,:), ground_truth(2,:), &#39;b--*&#39;); hold on;</span><br><span class="line">plot(location(1,:), location(2,:), &#39;r-*&#39;);hold on;</span><br><span class="line">ylim([yb(1)-1,yb(2)+1]);xlim([xb(1)-1,xb(2)+1]);</span><br></pre></td></tr></table></figure></p>
<p>ylim与xlim是用于控制图片x、y轴范围<br>提问：<br>ground_truth、yb、xb的来历？</p>
<p><strong>xb、yb定义于device_config.mat,表示地图的x范围和y范围，主要是为了绘图</strong><br><img src="/images/device_config.mat" alt="device_config.mat"></p>
<p>c=299792458是光速<br>carrier_frequency是5.825GHz<br><strong>以上维持不变</strong><br>sample_rate是接收频率</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">% Localization</span><br><span class="line">%aoa: Arrival of angle </span><br><span class="line">location &#x3D; sage_localization(range, aoa, rx_loc, xb, yb);</span><br><span class="line">for ii &#x3D; 1:size(location,1)</span><br><span class="line">    location(ii,:) &#x3D; smooth(location(ii,:), round(0.5*(sample_rate&#x2F;T)));</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>算了== ，还是顺着来</p>
<p>static_file是什么？难道是指一个静态环境？<br><img src="/images/S01.png" alt="S01.mat中数据"></p>
<p><img src="/images/T01.png" alt="T01.mat中数据"></p>
<p>其中的csi_data以及time_stamp是从csi_tool中提取而来的吗？</p>
<p>time_stamp可以直接提取，<del>而csi_data则是处理后得到的一个矩阵？</del><br>后者第二维为90</p>
<p>90的来源是<a href="http://dhalperi.github.io/linux-80211n-csitool/faq.html" target="_blank" rel="noopener">http://dhalperi.github.io/linux-80211n-csitool/faq.html</a><br>提到的处理方法</p>
<p>该方法最后的结果是1<em>3</em>30,而在这份代码中所有数据都被压缩到了一维</p>
<blockquote>
<p>function sage_const = sage_set_const(T, F, A, L, N, FI, TI, AS, TR, AR, DR, UR)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function sage_const &#x3D; sage_set_const(T, F, A, L, N, FI, TI, AS, TR, AR, DR, UR)</span><br><span class="line">% SAGE_SET_CONST: Set parameters for SAGE.</span><br><span class="line">    sage_const &#x3D; struct(&#39;T&#39;, T, &#39;F&#39;, F, &#39;A&#39;, A, &#39;L&#39;, L, &#39;N&#39;, N, ...</span><br><span class="line">        &#39;frequency_interval&#39;, FI, &#39;time_interval&#39;, TI, &#39;antenna_spatio&#39;, AS, ...</span><br><span class="line">        &#39;tof_range&#39;, TR, &#39;aoa_range&#39;, AR, &#39;doppler_range&#39;, DR, ...</span><br><span class="line">        &#39;update_ratio&#39;, UR);</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>function sage_const = sage_generate_steering_vector(sage_const)</p>
</blockquote>
<p>从结构体里取出来是为了最下面三个公式的编码<br>但看不出三个公式在论文中的对应关系</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function sage_const &#x3D; sage_generate_steering_vector(sage_const)</span><br><span class="line">% SAGE_GENERATE_STEERING_VECTOR: Generate steering vectors of time, frequency and space.</span><br><span class="line">    T &#x3D; sage_const.T;</span><br><span class="line">    F &#x3D; sage_const.F;</span><br><span class="line">    A &#x3D; sage_const.A;</span><br><span class="line">    frequency_interval &#x3D; sage_const.frequency_interval;</span><br><span class="line">    time_interval &#x3D; sage_const.time_interval;</span><br><span class="line">    antenna_spatio &#x3D; sage_const.antenna_spatio;</span><br><span class="line">    doppler_range &#x3D; sage_const.doppler_range;</span><br><span class="line">    aoa_range &#x3D; sage_const.aoa_range;</span><br><span class="line">    tof_range &#x3D; sage_const.tof_range;</span><br><span class="line">    </span><br><span class="line">    sage_const.tof_candidates &#x3D; exp(-1j * 2 * pi * frequency_interval * (0:F-1).&#39; * tof_range);</span><br><span class="line">    sage_const.aoa_candidates &#x3D; exp(-1j * 2 * pi * antenna_spatio * (0:A-1).&#39; * cos(aoa_range));</span><br><span class="line">    sage_const.doppler_candidates &#x3D; exp(1j * 2 * pi * time_interval * (0:T-1).&#39; * doppler_range);</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<blockquote>
<p>function result = csi_sanitization(csi_data)</p>
</blockquote>
<p>论文中CSI Cleaning部分<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">function result &#x3D; csi_sanitization(csi_data)</span><br><span class="line">% CSI_SANITIZATION: Sanitize CSI by removing linear phase component.</span><br><span class="line">% F(x,y) &#x3D; Ax^2+2Bxy+Cy^2+2Dx+2Ey+F,</span><br><span class="line">% x_&#123;opt&#125; &#x3D; BE-CD&#x2F;(AC-B^2), </span><br><span class="line">% y_&#123;opt&#125; &#x3D; BD-AE&#x2F;(AC-B^2).</span><br><span class="line"></span><br><span class="line">    M&#x3D;3; % Antenna number</span><br><span class="line">    N&#x3D;30; % Subcarrier number</span><br><span class="line">    freq_delta &#x3D; 2*312.5e3; % Subcarrier frequency difference</span><br><span class="line">    </span><br><span class="line">    % Unwrap the csi phase</span><br><span class="line">    csi_phase &#x3D; zeros(1,M*N);</span><br><span class="line">    for jj &#x3D; 1:M</span><br><span class="line">        if jj &#x3D;&#x3D; 1</span><br><span class="line">            % angle()：求相位角</span><br><span class="line">            % unwrap(): 平移相位角</span><br><span class="line">            csi_phase((jj-1)*N+1:jj*N) &#x3D; unwrap(angle(csi_data((jj-1)*N+1:jj*N)));</span><br><span class="line">        else</span><br><span class="line">            % 求共轭</span><br><span class="line">            csi_diff &#x3D; angle(csi_data((jj-1)*N+1:jj*N).*conj(csi_data((jj-2)*N+1:(jj-1)*N)));</span><br><span class="line">            csi_phase((jj-1)*N+1:jj*N) &#x3D; unwrap(csi_phase((jj-2)*N+1:(jj-1)*N) + csi_diff);</span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    % Linear fitting</span><br><span class="line">    ai &#x3D; 2*pi*freq_delta*repmat((0:N-1),1,M);</span><br><span class="line">    bi &#x3D; ones(1, length(csi_phase));</span><br><span class="line">    ci &#x3D; csi_phase;</span><br><span class="line">    A &#x3D; ai * ai.&#39;;</span><br><span class="line">    B &#x3D; ai * bi.&#39;;</span><br><span class="line">    C &#x3D; bi * bi.&#39;;</span><br><span class="line">    D &#x3D; ai * ci.&#39;;</span><br><span class="line">    E &#x3D; bi * ci.&#39;;</span><br><span class="line">%     F &#x3D; ci * ci.&#39;;</span><br><span class="line">    rho_opt &#x3D; (B*E-C*D)&#x2F;((A*C-B^2));</span><br><span class="line">    beta_opt &#x3D; (B*D-A*E)&#x2F;((A*C-B^2));</span><br><span class="line">    </span><br><span class="line">    % Sanitization</span><br><span class="line">    csi_phase &#x3D; csi_phase + 2*pi*freq_delta*repmat((0:N-1), 1, M)*rho_opt + beta_opt;</span><br><span class="line">    result &#x3D; abs(csi_data) .* exp(1j * csi_phase);</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>脉络还挺清晰的<br>明天早上起来试试自己房间</p>
<p>一个静态数据，一个走动数据</p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/10/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/Ubuntu%E5%AE%89%E8%A3%85%E4%BD%8E%E7%89%88%E6%9C%AC%E5%86%85%E6%A0%B8%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/10/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/Ubuntu%E5%AE%89%E8%A3%85%E4%BD%8E%E7%89%88%E6%9C%AC%E5%86%85%E6%A0%B8%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">WIFI室内定位/Ubuntu安装低版本内核记录</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-10 10:29:23" itemprop="dateCreated datePublished" datetime="2020-11-10T10:29:23+08:00">2020-11-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/" itemprop="url" rel="index"><span itemprop="name">WIFI室内定位</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>为了装CSI Tool，内核版本要控制在3.2-4.2<br>对应的Ubuntu版本是12.04-14.04-4</p>
<p>然而很可惜，14.04-3之前的版本内核在3.x左右，不支持ThinkPad x270的网卡驱动（网卡驱动版本要求内核4.1及以上），而14.04-3不知道什么原因，运行起来非常卡顿，而到了14.04-5、14.04-6内核版本已经到了4.4</p>
<p>既然没办法获得准确的内核版本，就只能自己安装了，目标是在14.04-6中安装内核4.2</p>
<p><strong>参考</strong><br><a href="https://blog.csdn.net/xin_yu_xin/article/details/42184899" target="_blank" rel="noopener">Ubuntu更换内核方法</a></p>
<h3 id="步骤记录"><a href="#步骤记录" class="headerlink" title="步骤记录"></a>步骤记录</h3><ul>
<li><p>1 下载并解压内核4.2.1<br><a href="https://mirrors.edge.kernel.org/pub/linux/kernel/v4.x/" target="_blank" rel="noopener">下载网址</a></p>
</li>
<li><p>2 配置内核</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp &#x2F;boot&#x2F;config* .&#x2F;.config</span><br><span class="line">make menuconfig</span><br><span class="line"># 选择load后exit</span><br></pre></td></tr></table></figure>
</li>
<li><p>3 编译内核</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure>
</li>
<li><p>4 加入模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make modules_install</span><br></pre></td></tr></table></figure>
</li>
<li><p>5 生成内核引导文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">make bzImage</span><br><span class="line"># 生成后存放路径是 arch&#x2F;x86&#x2F;boot&#x2F;bzImage</span><br><span class="line">sudo cp arch&#x2F;x86&#x2F;boot&#x2F;bzImage &#x2F;boot&#x2F;vmlinuz-4.2.1</span><br><span class="line"># 拷贝到&#x2F;boot目录下，并重命名为vmlinuxz-4.2.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>6 将System.map复制到/boot下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp System.map &#x2F;boot&#x2F;System.map-4.2.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>7 生成initrd.img文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#将内核4.2.1的配置文件复制到&#x2F;boot目录下</span><br><span class="line">sudo cp .config &#x2F;boot&#x2F;config-4.2.1</span><br><span class="line">cd &#x2F;lib&#x2F;modules&#x2F;4.2.1</span><br><span class="line">sudo update-initramfs -k 4.2.1 -c</span><br></pre></td></tr></table></figure>
</li>
<li><p>8 更新grub2启动项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-grub</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>如果对grub内容有什么不满，也可以直接修改/boot/grub/grub.cfg（记得用root权限）</p>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>Ubuntu 14.04-6原装内核是4.4.0版本，本身和4.2.1很接近，gcc编译器是4.8.4版本，天然兼容性很强</p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/09/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/grub2%E5%BC%95%E5%AF%BC%E4%BF%AE%E5%A4%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/09/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/grub2%E5%BC%95%E5%AF%BC%E4%BF%AE%E5%A4%8D/" class="post-title-link" itemprop="url">grub2引导修复</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-09 12:02:20" itemprop="dateCreated datePublished" datetime="2020-11-09T12:02:20+08:00">2020-11-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D-Linux-Fedora/" itemprop="url" rel="index"><span itemprop="name">WIFI室内定位 Linux-Fedora</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>因为在电脑里安装了Ubuntu 12.04，该系统对应的grub覆盖了Fedora30对应的grub2<br>这一切为了修复Fedora的启动</p>
<p>Ubtuntu 12.04版本实在是太低了，在其中使用fdisk -l根本看不见Fedora的磁盘分区，所以还是先做了一个Fedora30的启动盘</p>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><ul>
<li>1 在启动盘的live模式打开终端（terminal）</li>
<li>2 查看磁盘分区<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk -l</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>以我的显示结果为例(有用信息节选)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Device     Boot      Start        End    Sectors   Size Id Type</span><br><span class="line">&#x2F;dev&#x2F;sda1  *          4096  166073720  166069625  79.2G  7 HPFS&#x2F;NTFS&#x2F;exFAT</span><br><span class="line">&#x2F;dev&#x2F;sda2        166074368  167778303    1703936   832M 27 Hidden NTFS WinRE</span><br><span class="line">&#x2F;dev&#x2F;sda3        167784446 1953523711 1785739266 851.5G  f W95 Ext&#39;d (LBA)</span><br><span class="line">&#x2F;dev&#x2F;sda4       1953523712 1953525167       1456   728K 83 Linux</span><br><span class="line">&#x2F;dev&#x2F;sda5        167784448  746600447  578816000   276G  7 HPFS&#x2F;NTFS&#x2F;exFAT</span><br><span class="line">&#x2F;dev&#x2F;sda6        851460096 1061175295  209715200   100G  7 HPFS&#x2F;NTFS&#x2F;exFAT</span><br><span class="line">&#x2F;dev&#x2F;sda7       1061177344 1953523711  892346368 425.5G 8e Linux LVM</span><br><span class="line">&#x2F;dev&#x2F;sda8        746602496  766601215   19998720   9.5G 83 Linux</span><br><span class="line">&#x2F;dev&#x2F;sda9        766603264  826601471   59998208  28.6G 83 Linux</span><br><span class="line"></span><br><span class="line">Device     Boot   Start       End   Sectors   Size Id Type</span><br><span class="line">&#x2F;dev&#x2F;sdb1  *       2048   2099199   2097152     1G 83 Linux</span><br><span class="line">&#x2F;dev&#x2F;sdb2       2099200 250068991 247969792 118.2G 8e Linux LVM</span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;mapper&#x2F;fedora-swap: 7.5 GiB, 7994343424 bytes, 15613952 sectors</span><br><span class="line">Units: sectors of 1 * 512 &#x3D; 512 bytes</span><br><span class="line">Sector size (logical&#x2F;physical): 512 bytes &#x2F; 512 bytes</span><br><span class="line">I&#x2F;O size (minimum&#x2F;optimal): 512 bytes &#x2F; 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;mapper&#x2F;fedora-home: 60.8 GiB, 65275953152 bytes, 127492096 sectors</span><br><span class="line">Units: sectors of 1 * 512 &#x3D; 512 bytes</span><br><span class="line">Sector size (logical&#x2F;physical): 512 bytes &#x2F; 512 bytes</span><br><span class="line">I&#x2F;O size (minimum&#x2F;optimal): 512 bytes &#x2F; 512 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disk &#x2F;dev&#x2F;mapper&#x2F;fedora-root: 475.5 GiB, 510564237312 bytes, 997195776 sectors</span><br><span class="line">Units: sectors of 1 * 512 &#x3D; 512 bytes</span><br><span class="line">Sector size (logical&#x2F;physical): 512 bytes &#x2F; 4096 bytes</span><br><span class="line">I&#x2F;O size (minimum&#x2F;optimal): 4096 bytes &#x2F; 4096 bytes</span><br></pre></td></tr></table></figure></p>
<p>我有两块磁盘，分别是/dev/sda与/dev/sdb，从Boot列和Type可以看出/dev/sdb1是grub2所在分区，而/dev/sda1是Win10的启动分区</p>
<p>重要信息如下：<br>1./dev/sdb1是/boot<br>2./dev/mapper/fedora-root 是/</p>
<ul>
<li>3 挂载分区并重装grub2</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo mount &#x2F;dev&#x2F;mapper&#x2F;fedora-root &#x2F;mnt</span><br><span class="line">sudo mount &#x2F;dev&#x2F;sdb1 &#x2F;mnt&#x2F;boot</span><br><span class="line">sudo mount --bind &#x2F;dev &#x2F;mnt&#x2F;dev</span><br><span class="line">sudo chroot &#x2F;mnt</span><br><span class="line">sudo grub2-install &#x2F;dev&#x2F;sdb</span><br><span class="line">sudo grub2-install --recheck &#x2F;dev&#x2F;sdb</span><br></pre></td></tr></table></figure>
<p>这时grub2已经修复了，如果是单系统就可以快乐重启了<br>但如果是多系统，还要执行后面的步骤</p>
<ul>
<li>4 恢复Win及其他系统</li>
</ul>
<p>第2步的已经看出Win10的启动分区是/dev/sda1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ntfsfix &#x2F;dev&#x2F;sda1</span><br><span class="line">sudo grub2-mkconfig -o &#x2F;boot&#x2F;grub2&#x2F;grub.cfg</span><br></pre></td></tr></table></figure>
<p>重启后大功告成！</p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/07/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/fedora30%E5%AE%89%E8%A3%85%E4%BD%8E%E7%89%88%E6%9C%AC%E5%86%85%E6%A0%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/07/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/fedora30%E5%AE%89%E8%A3%85%E4%BD%8E%E7%89%88%E6%9C%AC%E5%86%85%E6%A0%B8/" class="post-title-link" itemprop="url">fedora30安装低版本内核</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-07 10:40:17" itemprop="dateCreated datePublished" datetime="2020-11-07T10:40:17+08:00">2020-11-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D-Linux-Fedora/" itemprop="url" rel="index"><span itemprop="name">WIFI室内定位 Linux-Fedora</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote>
<p>2020-11-08记</p>
<p><strong>失败了</strong>。编译低版本内核需要低版本gcc，而gcc并不向下兼容。以后有空再慢慢试，暂时搁置计划。</p>
</blockquote>
<p>  为了能安装CSI tool捕获CSI，第一步是把内核版本调到4.2.大概是Fedora23的样子</p>
<p><em>参考安装指南</em><br><a href="https://blog.csdn.net/weixin_34111790/article/details/93447617" target="_blank" rel="noopener">Fedora编译安装内核</a><br><a href="https://blog.csdn.net/ztguang/article/details/51319990" target="_blank" rel="noopener">dnf - Fedora 23 - kernel - 安装低版本内核</a><br><a href="https://www.cnblogs.com/Jelline/articles/2063565.html" target="_blank" rel="noopener">Ubuntu高版本内核编译低版本内核全过程</a></p>
<h3 id="安装纪实"><a href="#安装纪实" class="headerlink" title="安装纪实"></a>安装纪实</h3><ul>
<li>前置条件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf install ncurses-devel ncurses</span><br></pre></td></tr></table></figure>
<ul>
<li>下载kernel 4.2源码并解压</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;mirrors.edge.kernel.org&#x2F;pub&#x2F;linux&#x2F;kernel&#x2F;v4.x&#x2F;linux-4.2.1.tar.gz</span><br><span class="line">tar -xv linux-4.2.1.tar.gz</span><br><span class="line"></span><br><span class="line">cp &#x2F;boot&#x2F;config-&#96;uname -r&#96; .&#x2F;.config</span><br><span class="line"></span><br><span class="line">cd linux-4.2.1</span><br><span class="line">make menuconfig</span><br><span class="line">make rpm</span><br></pre></td></tr></table></figure>
<h3 id="Debug过程"><a href="#Debug过程" class="headerlink" title="Debug过程"></a>Debug过程</h3><ul>
<li>Unsupported relocation type: R_X86_64_PLT32 (4)<br><a href="https://unix.stackexchange.com/questions/513921/how-to-get-around-r-x86-64-plt32-error-when-bisecting-the-linux-kernel" target="_blank" rel="noopener">解决方法参考网址</a></li>
</ul>
<p>查看GNU binutils版本后果然是2.31，至少降级到2.30</p>
<p>dnf直接管理是没希望了，手动安装吧<br><a href="https://ftp.gnu.org/gnu/binutils/" target="_blank" rel="noopener">官网下载网址</a></p>
<p>解压压缩包后按照README中内容进行手动安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;configure</span><br><span class="line">sudo make</span><br><span class="line">sudo make isntall</span><br></pre></td></tr></table></figure></p>
<p>但过程中遇到了鸡生蛋蛋生鸡的问题，bintuils的编译需要gcc，而gcc的安装又需要binutils去运行==<br>dnf对应版本的gcc太高了，需要依赖的bintutils也就高，要先降级gcc</p>
<p>gcc安装过程参考之前的<a href="https://moneyna.github.io/2019/11/14/Linux-Centos/centos7-配置高版本gcc-（gcc-9-2-0）/" target="_blank" rel="noopener">centos7-配置高版本gcc-（gcc-9-2-0）</a></p>
<p>不过要注意fedora23的发型时间对应15年11月，所以应该安装gcc-5.2.0<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;ftp.gnu.org&#x2F;gnu&#x2F;gcc&#x2F;gcc-5.2.0&#x2F;gcc-5.2.0.tar.gz</span><br></pre></td></tr></table></figure></p>
<p>过程并不顺利，看来高版本并不能向下兼容<br><a href="https://www.vpser.net/manage/centos-6-upgrade-gcc.html" target="_blank" rel="noopener">一个新的参考</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#升级到gcc 5.2</span><br><span class="line">wget https:&#x2F;&#x2F;copr.fedoraproject.org&#x2F;coprs&#x2F;hhorak&#x2F;devtoolset-4-rebuild-bootstrap&#x2F;repo&#x2F;epel-6&#x2F;hhorak-devtoolset-4-rebuild-bootstrap-epel-6.repo -O &#x2F;etc&#x2F;yum.repos.d&#x2F;devtoolset-4.repo</span><br><span class="line">yum install devtoolset-4-gcc devtoolset-4-gcc-c++ devtoolset-4-binutils -y</span><br><span class="line">scl enable devtoolset-4 bash</span><br></pre></td></tr></table></figure></p>
<p>scl只是临时命令，退出后会复原</p>
<p>== 失败</p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/06/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/CSITools%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/06/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/CSITools%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">CSITools安装记录</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-06 22:40:12" itemprop="dateCreated datePublished" datetime="2020-11-06T22:40:12+08:00">2020-11-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/" itemprop="url" rel="index"><span itemprop="name">WIFI室内定位</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>一定需要的东西<strong>5300网卡</strong></p>
<p>本博客仅用于记录安装过程，本来打算是使用自己的Fedora 30 直接降低内核，再安装CSI Tool，但操作系统中gcc编译器牵扯太广，我的能力不足以支持直接降解，后来还是通过直接装低版本系统完成了降低内核</p>
<p><a href="https://blog.csdn.net/u014645508/article/details/81359409" target="_blank" rel="noopener">完全无误的CsiTool安装指南</a></p>
<h4 id="1-安装参考"><a href="#1-安装参考" class="headerlink" title="1 安装参考"></a>1 安装参考</h4><ul>
<li><p>Fedora 安装低版本内核<br><a href="https://blog.csdn.net/weixin_34111790/article/details/93447617" target="_blank" rel="noopener">Fedora编译安装内核</a><br><a href="https://blog.csdn.net/ztguang/article/details/51319990" target="_blank" rel="noopener">dnf - Fedora 23 - kernel - 安装低版本内核</a><br><a href="https://www.cnblogs.com/Jelline/articles/2063565.html" target="_blank" rel="noopener">Ubuntu高版本内核编译低版本内核全过程</a></p>
</li>
<li><p>CSI tool 安装指南<br><a href="dhalperi.github.io/linux-80211n-csitool/installation.html">官网地址</a><br><a href="https://blog.csdn.net/qq_20604671/article/details/53996239" target="_blank" rel="noopener">CSI Tool安装使用讲解</a><br><a href="https://blog.csdn.net/u014645508/article/details/81359409" target="_blank" rel="noopener">Linux 802.11n CSI tool安装教程</a></p>
</li>
</ul>
<h4 id="2-环境介绍"><a href="#2-环境介绍" class="headerlink" title="2 环境介绍"></a>2 环境介绍</h4><p>系统Fedora 30<br>属于红帽系列，所以命令行区别与Ubuntu<br>（不知道有没有其他不同）</p>
<h3 id="1-安装流程"><a href="#1-安装流程" class="headerlink" title="1 安装流程"></a>1 安装流程</h3><p><a href="https://github.zhlh6.cn" target="_blank" rel="noopener">github下载加速链接</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mkdir linux-csitool</span><br><span class="line">cd linux-csitool</span><br><span class="line"></span><br><span class="line">#1 Prerequisites</span><br><span class="line">sudo dnf install gcc make kernel-headers kernel-devel git-core</span><br><span class="line"></span><br><span class="line">#2 Build and Install the Modified Wireless Driver</span><br><span class="line">CSITOOL_KERNEL_TAG&#x3D;csitool-$(uname -r | cut -d . -f 1-2)</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;dhalperi&#x2F;linux-80211n-csitool.git</span><br><span class="line">cd linux-80211n-csitool</span><br><span class="line">git checkout $&#123;CSITOOL_KERNEL_TAG&#125;</span><br></pre></td></tr></table></figure>
<p><strong>这句出错</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -C &#x2F;lib&#x2F;modules&#x2F;$(uname -r)&#x2F;build M&#x3D;$(pwd)&#x2F;drivers&#x2F;net&#x2F;wireless&#x2F;iwlwifi modules</span><br></pre></td></tr></table></figure></p>
<p><strong>2020-11-06 记录</strong></p>
<ul>
<li><p>enum ieee80211_band 定义不全<br>看了一下bug源码的确没有找到enum ieee80211_band的定义，百度后发现它的完整定义应该是<br><a href="www.hep.by/gnu/kernel/80211/API-enum-ieee80211-band.html">参考网址</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">enum ieee80211_band &#123;</span><br><span class="line">  IEEE80211_BAND_2GHZ,</span><br><span class="line">  IEEE80211_BAND_5GHZ,</span><br><span class="line">  IEEE80211_NUM_BANDS</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>按照报错位置加在文件：linux-80211n-csitool/drivers/net/wireless/iwlwifi/iwl-eeprom.h中</p>
</li>
<li><p>error: ‘ieee80211_rssi_event’ defined as wrong kind of tag</p>
</li>
</ul>
<p>报错位置是linux-80211n-csitool/drivers/net/wireless/iwlwifi/iwl-agn.h:567:15<br>报错提示的含义是同一个标签名在struct，union或enum中被重复定义了，在这里就是ieee80211_rssi_event</p>
<p>但我翻遍了头文件定义都没有找到……</p>
<p><strong>弄错了一个顺序，应该是先进入低版本内核，再进行安装，而不是通过安装来到低版本内核</strong><br>因为在CSI tool源码编译过程中调用了系统头文件，换句话说就是内核版本很重要</p>
<p><strong>2020-11-08 记录</strong><br>犯蠢到用已经装了双系统（Fedora30+win10）的电脑直接去装了Ubuntu12.04<br>Ubuntu12.04还是太老了，大概是10年左右的系统，那时用的还是grub，而非grub2<br>所以并不能兼容到Fedora30里<br>最后成功把grub2引导弄丢了，好在win10<br>不得已走上了用fedora30的启动盘里的live模式修复了grub2<br>原来在live中是可以用sudo的（没有真的凉了）</p>
<p>换电脑吧</p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/11/03/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/WIFI%E5%AE%9A%E4%BD%8D%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/03/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/WIFI%E5%AE%9A%E4%BD%8D%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">WIFI室内定位学习笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-03 09:17:20" itemprop="dateCreated datePublished" datetime="2020-11-03T09:17:20+08:00">2020-11-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WIFI%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D/" itemprop="url" rel="index"><span itemprop="name">WIFI室内定位</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言（一些发现）"><a href="#前言（一些发现）" class="headerlink" title="前言（一些发现）"></a>前言（一些发现）</h3><ul>
<li>室内定位精度应该要有一定追求，粒度如果是一个房间那完全不足以说明真实的位置</li>
<li>输入已知是CSI，输出是什么呢？—-》需要知道地图吗？在线生成地图吗？</li>
<li><del>能找一个简易教程吗？</del></li>
<li>要明确我是否需要管信号采集、地图绘制（及房间和AP定位），还是说我只管利用？</li>
<li><del>传感器需不需要嵌入式编程？</del></li>
<li>如果是数据交给我，数据格式是什么呢？</li>
<li>询问学姐需要训练的，还是不要训练的？</li>
<li>需要的精度是多少？常规方法精度在2.5m左右，精确处理后大概在1.5m</li>
</ul>
<p><em>2020-11-06更新</em><br>目前顺序：<br>github参考<br>CSI tools采集数据<br>数据库设计<br>采用指纹法</p>
<h2 id="一、理论学习"><a href="#一、理论学习" class="headerlink" title="一、理论学习"></a>一、理论学习</h2><h3 id="1-《基于WIFI的室内定位》"><a href="#1-《基于WIFI的室内定位》" class="headerlink" title="1 《基于WIFI的室内定位》"></a>1 《基于WIFI的室内定位》</h3><p><strong>原来内容来自书《Advanced Location-Based Technologies and Services》的第二章</strong><br><a href="https://blog.csdn.net/coutamg/article/details/69791748" target="_blank" rel="noopener">博客地址</a></p>
<p>采用位置指纹法</p>
<ul>
<li><p>1 定位分类</p>
<ul>
<li>远程定位/网络定位：如果待定位设备是在发送信号，由一些固定的接收设备感知待定位设备的信号或信息然后给它定位，这种方式</li>
<li>自身定位： 待定位设备是在接受信号，接受固定的发送设备的信号与信息</li>
<li>混合定位</li>
</ul>
</li>
<li><p>2 两种最常用的信号特征（可以用于做位置指纹）</p>
<ul>
<li><p>多径结构（功率时延分布）：由于传播时延与强度不同使得同一位置接受到多条多径分量。</p>
</li>
<li><p>RSS（Received Signal Strength）:接受信号强度，精度很低，需要通过收集一定数量（区别于只用一个）的RSS作为指纹。</p>
</li>
</ul>
</li>
<li><p>3 基于位置指纹的定位算法<br>可分为确定性的定位算法与概率型的定位算法<br><strong>（目前猜测概率型的更适合？）</strong></p>
</li>
<li><p>4 误差分析<br>误差的来源有无线电传播的复杂性、删减信号（Censored Data）等<br>误差在11年左右还是以m为数量级</p>
</li>
</ul>
<h3 id="2-《基于WIFI指纹的室内定位》"><a href="#2-《基于WIFI指纹的室内定位》" class="headerlink" title="2 《基于WIFI指纹的室内定位》"></a>2 《基于WIFI指纹的室内定位》</h3><p><a href="https://blog.csdn.net/u014527548/article/details/104701867?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.add_param_isCf&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.add_param_isCf" target="_blank" rel="noopener">博客</a></p>
<p>可能存在的问题：似乎没有使用CSI？</p>
<p>涉及两篇论文：<br>1.Miyagusuku R , Yamashita A , Asama H . Data Information Fusion From Multiple Access Points for WiFi-Based Self-localization[J]. IEEE Robotics and Automation Letters, 2019, 4(2):269-276.<br>2.R. Miyagusuku, A. Yamashita, and H. Asama, “Precise and accurate wireless signal strength mappings using Gaussian processes and path loss models,” Robotics and Autonomous Systems, vol. 103, pp. 134– 150, 2018.</p>
<p><strong>待看</strong></p>
<h3 id="3-毕业设计之-—-wifi指纹室内定位系统"><a href="#3-毕业设计之-—-wifi指纹室内定位系统" class="headerlink" title="3 毕业设计之 — wifi指纹室内定位系统"></a>3 毕业设计之 — wifi指纹室内定位系统</h3><p><a href="https://blog.csdn.net/HUXINY/article/details/109386516?utm_medium=distribute.pc_relevant.none-task-blog-title-10&amp;spm=1001.2101.3001.4242" target="_blank" rel="noopener">博客</a></p>
<p>一些定位算法的简介</p>
<h3 id="4-基于WiFi-的CSI和RSS混合指纹室内定位"><a href="#4-基于WiFi-的CSI和RSS混合指纹室内定位" class="headerlink" title="4 基于WiFi 的CSI和RSS混合指纹室内定位"></a>4 基于WiFi 的CSI和RSS混合指纹室内定位</h3><p><a href="https://blog.csdn.net/qq_25123119/article/details/74784052?utm_medium=distribute.pc_relevant.none-task-blog-title-7&amp;spm=1001.2101.3001.4242" target="_blank" rel="noopener">博客</a></p>
<p>有一张示意图</p>
<h3 id="5-三边定位算法-WiFi和RFID结合解决室内定位问题"><a href="#5-三边定位算法-WiFi和RFID结合解决室内定位问题" class="headerlink" title="5 三边定位算法 - WiFi和RFID结合解决室内定位问题"></a>5 三边定位算法 - WiFi和RFID结合解决室内定位问题</h3><p><a href="www.elecfans.com/tongxin/rf/20130108304360_2.html">博客</a></p>
<p>三个AP，用RSS，怎么就没有用CSI的呢？</p>
<h3 id="6-基于Android平台改进的室内WiFi定位算法的研究"><a href="#6-基于Android平台改进的室内WiFi定位算法的研究" class="headerlink" title="6 基于Android平台改进的室内WiFi定位算法的研究"></a>6 基于Android平台改进的室内WiFi定位算法的研究</h3><p><a href="www.chinaaet.com/tech/designapplication/3000062483">博客</a></p>
<p>Again，CSI呢？</p>
<h3 id="7-《嘈杂环境中利用CSI信息的室内轨迹跟踪技术》"><a href="#7-《嘈杂环境中利用CSI信息的室内轨迹跟踪技术》" class="headerlink" title="7 《嘈杂环境中利用CSI信息的室内轨迹跟踪技术》"></a>7 《嘈杂环境中利用CSI信息的室内轨迹跟踪技术》</h3><p><a href="www.signal.org.cn/CN/abstract/abstract10818.shtml">论文地址</a></p>
<p>Related Work里提到了CSI可以作为RSSI的等价替代品应用于指纹定位中<br>而RSSI的主要缺点正是多径效应带来的干扰</p>
<p>提到本文应用的方法无需体现采集，好像也只需要一台发射设备和接受设备</p>
<p>在Linux装CSI tools就可以接受CSI？</p>
<p>这个是用于室内跟踪的，学姐需不需要跟踪？<br>如果能复现这个论文，那整个代码逻辑就是：<br>实现绘制地图，跟踪位置并可以在地图上显示（打点）</p>
<p><strong>需要重新再阅读一遍，重点在于无需提前获取数据</strong></p>
<h3 id="8-《基于稀疏表示的CSI室内定位方法》"><a href="#8-《基于稀疏表示的CSI室内定位方法》" class="headerlink" title="8 《基于稀疏表示的CSI室内定位方法》"></a>8 《基于稀疏表示的CSI室内定位方法》</h3><p><a href="www.jos.org.cn/jos/ch/reader/create_pdf.aspx?file_no=16003&amp;journal_id=jos">论文</a></p>
<p>只使用一个AP是因为一般家庭就一个AP，不过如果是很复杂的环境（及多个AP），还需要考虑干扰<br>（题外话：RSSI的多径效应一是因为有多个AP，另一个原因是反射、折射、散射）</p>
<p>该论文只是提取了更为精准的指纹（类似机器学习的表征学习）<br>难点集中在数据采集与训练</p>
<h3 id="9-《基于Kmeans聚类的CSI室内定位》"><a href="#9-《基于Kmeans聚类的CSI室内定位》" class="headerlink" title="9 《基于Kmeans聚类的CSI室内定位》"></a>9 《基于Kmeans聚类的CSI室内定位》</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&amp;dbname=CJFDLAST2017&amp;filename=DZJY201612020&amp;v=ewRgRUTNHiBwb2at6ENykUVltu0ih2OzGSCkuIFe1er504WVmshDznLBzwpUPYaS" target="_blank" rel="noopener">论文</a></p>
<p>作为一篇16年的论文，奠基作用在于CSI、K-means、聚类、欧式距离<br>不过近段时间（包括上篇2020年发表）的论文已经证明，欧式效果不如贝叶斯等</p>
<p>实验是在matlab中仿真的</p>
<h3 id="10-《基于聚类的组合时间反转算法的CSI指纹室内定位研究》"><a href="#10-《基于聚类的组合时间反转算法的CSI指纹室内定位研究》" class="headerlink" title="10 《基于聚类的组合时间反转算法的CSI指纹室内定位研究》"></a>10 《基于聚类的组合时间反转算法的CSI指纹室内定位研究》</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&amp;dbname=CJFDLAST2019&amp;filename=DSSS201811012&amp;v=sRPZFPi3F%25mmd2Bd%25mmd2FkLVvJPkUXOir8cuFADkq0%25mmd2BewOvIOkgibdQK0Ch4SrlTcSjHMOaGv" target="_blank" rel="noopener">论文</a></p>
<p>不管是CSI还是RSSI，都存在统一地点不同时刻或是统一时刻不同设备测得的CSI（RSSI）信号结果不同的问题<br>所以二者不能直接作为指纹使用，而需进行一些处理<br>—&gt;任何处理都是为了提取指纹</p>
<p>该文亮点也正是在指纹提取阶段<br>且实验环境是matlab</p>
<p>可见在wifi定位领域，使用最多的两种语言是matlab和python<br>猜测原因是，matlab的数据处理方便而python可以方便应用机器学习算法</p>
<h3 id="11-《基于智能手机的室内定位技术综述》"><a href="#11-《基于智能手机的室内定位技术综述》" class="headerlink" title="11 《基于智能手机的室内定位技术综述》"></a>11 《基于智能手机的室内定位技术综述》</h3><p><a href="https://zhuanlan.zhihu.com/p/121648191" target="_blank" rel="noopener">博客</a></p>
<p>智能手机还不支持CSI，仅仅支持RSSI</p>
<h3 id="12-《复杂室内环境下基于CSI的定位方法》"><a href="#12-《复杂室内环境下基于CSI的定位方法》" class="headerlink" title="12 《复杂室内环境下基于CSI的定位方法》"></a>12 《复杂室内环境下基于CSI的定位方法》</h3><p><a href="www.infocomm-journal.com/wlw/CN/abstract/abstract168444.shtml">论文</a></p>
<p>这篇论文的相关工作分析的很到位</p>
<p>CSI 可以同时提供子载波相位和振幅信息</p>
<p>该文的重点也是对CSI的特征提取，与6类似，但方法比6要精确<br>（不过怀疑6、10实现起来都很复杂）</p>
<h3 id="13-《基于CSI的室内指纹定位研究》"><a href="#13-《基于CSI的室内指纹定位研究》" class="headerlink" title="13 《基于CSI的室内指纹定位研究》"></a>13 《基于CSI的室内指纹定位研究》</h3><p><a href="https://kns.cnki.net/KXReader/Detail?TIMESTAMP=637402068106250000&amp;DBCODE=CJFD&amp;TABLEName=CJFDLAST2019&amp;FileName=TXJS201902010&amp;RESULT=1&amp;SIGN=ihzrRulA8wJQnbtmHjionVlTNGk%3d" target="_blank" rel="noopener">论文</a></p>
<p>论文最后的缺点总结写的挺好的，的确存在测试环境单一、人为调整发射与接受同一高度的问题（如10和其他论文的调到1.2m）</p>
<p><strong>暂时搁置</strong></p>
<h3 id="14-基于机器学习的室内高精度指纹定位方法研究-张玄黎"><a href="#14-基于机器学习的室内高精度指纹定位方法研究-张玄黎" class="headerlink" title="14 基于机器学习的室内高精度指纹定位方法研究 张玄黎"></a>14 基于机器学习的室内高精度指纹定位方法研究 张玄黎</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CPFD&amp;dbname=CPFDLAST2018&amp;filename=ZGGC201810001098&amp;v=r1NZusEXnB6NFpmRXVTWHSifAVY%25mmd2F2WJTiseNEVjCX3GG4Gv4pUP%25mmd2BOPQ8ArSPhmY%25mmd2FccjdEuAKoSo%3d" target="_blank" rel="noopener">论文</a></p>
<h3 id="15-基于CSI的室内多场景指纹定位算法研究-司雄"><a href="#15-基于CSI的室内多场景指纹定位算法研究-司雄" class="headerlink" title="15 基于CSI的室内多场景指纹定位算法研究 司雄"></a>15 基于CSI的室内多场景指纹定位算法研究 司雄</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD202001&amp;filename=1019071941.nh&amp;v=Ekg6V%25mmd2Fgf1dG2i9GT3rLyxpa4d8iEeg4uEu8IYHpzs0XwVexptCZZAEmC9Te2ePlS" target="_blank" rel="noopener">论文</a></p>
<h3 id="16-WLAN室内位置指纹定位研究-刘静"><a href="#16-WLAN室内位置指纹定位研究-刘静" class="headerlink" title="16 WLAN室内位置指纹定位研究 刘静"></a>16 WLAN室内位置指纹定位研究 刘静</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD202001&amp;filename=1020612263.nh&amp;v=NGYrJDyRKE5bWi0cjLADifB4Jf9%25mmd2BMRkFBSGE4tVgV0VD2UmB472QiWKryCMzstG4" target="_blank" rel="noopener">论文</a></p>
<h3 id="17-基于信道状态信息的室内指纹定位研究-宋长泽"><a href="#17-基于信道状态信息的室内指纹定位研究-宋长泽" class="headerlink" title="17 基于信道状态信息的室内指纹定位研究 宋长泽"></a>17 基于信道状态信息的室内指纹定位研究 宋长泽</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD201902&amp;filename=1019604733.nh&amp;v=MNqPzsaClpPpGqzsiECaudMDy%25mmd2BzcBvJHbAQ2NiR27KMkff2cSEnERgl3vQH97nVx" target="_blank" rel="noopener">论文</a></p>
<h3 id="18-基于信道状态信息的室内指纹定位算法研究-朱瑾华"><a href="#18-基于信道状态信息的室内指纹定位算法研究-朱瑾华" class="headerlink" title="18 基于信道状态信息的室内指纹定位算法研究 朱瑾华"></a>18 基于信道状态信息的室内指纹定位算法研究 朱瑾华</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD202001&amp;filename=1019618738.nh&amp;v=GZswD%25mmd2BLHcIC9txh9UsslfweYZmgZacowO5VZxypkE3%25mmd2FOQPpy%25mmd2BYbB2JKqJ6wpwbqC" target="_blank" rel="noopener">论文</a></p>
<h3 id="19-基于信道状态信息的室内指纹定位算法研究-王藜谚"><a href="#19-基于信道状态信息的室内指纹定位算法研究-王藜谚" class="headerlink" title="19 基于信道状态信息的室内指纹定位算法研究 王藜谚"></a>19 基于信道状态信息的室内指纹定位算法研究 王藜谚</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&amp;dbname=CMFD202002&amp;filename=1020730504.nh&amp;v=SWJ10JIq3UAl%25mmd2BVJTBcSDsTklCSvn0qjBtp%25mmd2F2cnHxgeAAvgKWPmT7%25mmd2BY8BGieHYmsQ" target="_blank" rel="noopener">论文</a></p>
<h3 id="20-基于CSI相位矫正的室内指纹定位技术研究-刘兆岩"><a href="#20-基于CSI相位矫正的室内指纹定位技术研究-刘兆岩" class="headerlink" title="20 基于CSI相位矫正的室内指纹定位技术研究 刘兆岩"></a>20 基于CSI相位矫正的室内指纹定位技术研究 刘兆岩</h3><p><a href="https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&amp;dbname=CJFDLAST2020&amp;filename=WXDG202002005&amp;v=9jCz0cgA5KtGoDmM1UYU0DqU951BKjOqQ3qMM44GMLCTlpBUEMT4oh%25mmd2BU%25mmd2FI4MTVsO" target="_blank" rel="noopener">论文</a></p>
<h3 id="21-基于CSI相位矫正的室内指纹定位技术研究-党小超"><a href="#21-基于CSI相位矫正的室内指纹定位技术研究-党小超" class="headerlink" title="21 基于CSI相位矫正的室内指纹定位技术研究 党小超"></a>21 基于CSI相位矫正的室内指纹定位技术研究 党小超</h3><p><a href="https://wenku.baidu.com/view/5fbe17895627a5e9856a561252d380eb639423f9.html" target="_blank" rel="noopener">论文</a></p>
<h3 id="22-室内定位技术-山东大学"><a href="#22-室内定位技术-山东大学" class="headerlink" title="22 室内定位技术 山东大学"></a>22 室内定位技术 山东大学</h3><p><a href="https://navrs.wh.sdu.edu.cn/info/1278/1142.htm" target="_blank" rel="noopener">博客</a></p>
<h3 id="23-基于CSI的室内指纹定位研究"><a href="#23-基于CSI的室内指纹定位研究" class="headerlink" title="23 基于CSI的室内指纹定位研究"></a>23 基于CSI的室内指纹定位研究</h3><p><a href="https://www.codercto.com/a/83162.html" target="_blank" rel="noopener">博客</a></p>
<h2 id="二、一些代码实现"><a href="#二、一些代码实现" class="headerlink" title="二、一些代码实现"></a>二、一些代码实现</h2><h3 id="1-室内定位系列"><a href="#1-室内定位系列" class="headerlink" title="1 室内定位系列"></a>1 室内定位系列</h3><p><a href="https://www.cnblogs.com/rubbninja/p/6120964.html" target="_blank" rel="noopener">博客</a></p>
<p><a href="https://github.com/jiangqideng/codeInBlogs/tree/master/IP_raytracing" target="_blank" rel="noopener">仿真RSS数据（matlab）</a></p>
<p><a href="https://www.cnblogs.com/rubbninja/p/6186847.html" target="_blank" rel="noopener">Python代码</a></p>
<p>指纹法是先离线存储某个粒度（1m或更宽）的RSS，再获取target的RSS，与存储的指纹做匹配</p>
<p>之后还介绍了两种轨迹追踪方法，也可以改进改进使用</p>
<h3 id="2-基于Wi-Fi的室内定位系统"><a href="#2-基于Wi-Fi的室内定位系统" class="headerlink" title="2 基于Wi-Fi的室内定位系统"></a>2 基于Wi-Fi的室内定位系统</h3><p><a href="https://zhuanlan.zhihu.com/p/142461771" target="_blank" rel="noopener">博客</a><br><a href="https://github.com/GXW19961104/Indoor-Positioning" target="_blank" rel="noopener">Github代码地址</a></p>
<p>服务器端的逻辑很直接，首先数据库存储好，客户端发确定定位，服务器匹配，返回结果给客户端</p>
<p>问题：客户端怎么确定定位的？RSS与CSI使用上有没有区别？</p>
<p>部分答：因为这个项目是基于Android的，所以直接调用了安卓系统自带的RSSI采集、WIFI强度采集等内容，其实简化了很多步骤</p>
<p>而且数据之间的沟通使用的JSON</p>
<h3 id="3-基于SVM算法的位置指纹WiFi室内定位"><a href="#3-基于SVM算法的位置指纹WiFi室内定位" class="headerlink" title="3 基于SVM算法的位置指纹WiFi室内定位"></a>3 基于SVM算法的位置指纹WiFi室内定位</h3><p><a href="https://www.jianshu.com/p/873615e6205c" target="_blank" rel="noopener">博客</a></p>
<p>依然是RSSI，但梳理了过程<br>疑惑的是每个地方的RSSI是手动测量的<br>难道没有自动方式吗？（所以才需要模拟数据？）</p>
<h3 id="4-基于-Wi-Fi-的室内定位系统"><a href="#4-基于-Wi-Fi-的室内定位系统" class="headerlink" title="4 基于 Wi-Fi 的室内定位系统"></a>4 基于 Wi-Fi 的室内定位系统</h3><p><a href="https://blog.csdn.net/weixin_43378396/article/details/90764374" target="_blank" rel="noopener">博客</a></p>
<p><a href="https://github.com/clvsit/Wi-Fi-based-indoor-positioning" target="_blank" rel="noopener">github项目地址</a><br>至少有一个不同的平面图？</p>
<h3 id="5-人工智能教程：svm-wifi做室内定位"><a href="#5-人工智能教程：svm-wifi做室内定位" class="headerlink" title="5 人工智能教程：svm wifi做室内定位"></a>5 人工智能教程：svm wifi做室内定位</h3><p><a href="https://www.bilibili.com/video/av63815760/" target="_blank" rel="noopener">bilibili视频</a></p>
<p><a href="archive.ics.uci.edu/ml/datasets/Wireless+Indoor+Localization">wifi数据</a><br>数据里是4个不同位置中不同设备测量的6个AP强度<br>对我比较无用</p>
<h3 id="6-东南大学SRTP项目基于机器学习的室内定位"><a href="#6-东南大学SRTP项目基于机器学习的室内定位" class="headerlink" title="6 东南大学SRTP项目基于机器学习的室内定位"></a>6 东南大学SRTP项目基于机器学习的室内定位</h3><p><a href="https://github.com/scp10086/CSI-indoor-location" target="_blank" rel="noopener">github项目地址</a></p>
<p>提供的很多资料链接不是失效就是过时了</p>
<p>给了一份原创的CSI tool安装指南，但是仅仅作用于Ubuntu12.x版本，不知道能不能用我自己的fedora30装</p>
<p>看来是不太轻松了……</p>
<p>可能会涉及安装一个一新系统或换内核。（为什么那个博客说虚拟机不可呢？）</p>
<h3 id="7-Awesome-WiFi-CSI-Research"><a href="#7-Awesome-WiFi-CSI-Research" class="headerlink" title="7 Awesome-WiFi-CSI-Research"></a>7 Awesome-WiFi-CSI-Research</h3><p><a href="https://github.com/zhangjianye88/Awesome-WiFi-CSI-Research" target="_blank" rel="noopener">github项目地址</a></p>
<h3 id="8-IndoorLocationWiFi"><a href="#8-IndoorLocationWiFi" class="headerlink" title="8 IndoorLocationWiFi"></a>8 IndoorLocationWiFi</h3><p><a href="https://github.com/wantnaM/IndoorLocationWiFi" target="_blank" rel="noopener">github项目地址</a></p>
<h3 id="9"><a href="#9" class="headerlink" title="9"></a>9</h3><p><a href="">github项目地址</a></p>
<h2 id="三、CSI-tools的安装"><a href="#三、CSI-tools的安装" class="headerlink" title="三、CSI tools的安装"></a>三、CSI tools的安装</h2><p><a href="dhalperi.github.io/linux-80211n-csitool/installation.html">官网地址</a></p>
<p>CSI tools是10年的一篇论文中使用的工具，所以才会要求使用Ubuntu 10.x-14.x之间的版本<br>但其实真正有要求的是内核版本，要求在 3.2~4.2</p>
<p>换内核后，大概需要将安装指南里的命令行替换为fedora的命令</p>
<p>还涉及到IWL 5300……<br>不知道会不会有什么影响</p>
<p>802.11n 是我想的那个吗？</p>
<p><strong>部分没有看的安装指南</strong><br><a href="https://blog.csdn.net/qq_20604671/article/details/53996239" target="_blank" rel="noopener">CSI Tool安装使用讲解</a><br><a href="https://blog.csdn.net/u014645508/article/details/81359409" target="_blank" rel="noopener">Linux 802.11n CSI tool安装教程</a></p>
<p><a href="https://github.com/seemoo-lab/mobisys2018_nexmon_channel_state_information_extractor" target="_blank" rel="noopener">另一篇提供了CSI获取工具的论文代码网址（但对支持网卡不了接）</a></p>
<p><a href="https://blog.csdn.net/xin_yu_xin/article/details/42184899" target="_blank" rel="noopener">Ubuntu更换内核方法</a><br><a href="https://blog.csdn.net/tenorange/article/details/80914559" target="_blank" rel="noopener">Ubuntu更换Linux内核版本</a></p>
<h2 id="四、CSI处理"><a href="#四、CSI处理" class="headerlink" title="四、CSI处理"></a>四、CSI处理</h2><h3 id="1-Monitor模式和AP模式下获取WiFi的CSI信号"><a href="#1-Monitor模式和AP模式下获取WiFi的CSI信号" class="headerlink" title="1 Monitor模式和AP模式下获取WiFi的CSI信号"></a>1 Monitor模式和AP模式下获取WiFi的CSI信号</h3><p><a href="https://blog.csdn.net/qq_20386411/article/details/83240781" target="_blank" rel="noopener">博客</a></p>
<h3 id="2-原创-Linux-802-11n-CSI-tool-Monitor模式"><a href="#2-原创-Linux-802-11n-CSI-tool-Monitor模式" class="headerlink" title="2 [原创]Linux 802.11n CSI tool Monitor模式"></a>2 [原创]Linux 802.11n CSI tool Monitor模式</h3><p><a href="https://blog.csdn.net/u014645508/article/details/82993718?utm_source=blogxgwz1" target="_blank" rel="noopener">博客</a></p>
<h3 id="3-CSI信号的处理"><a href="#3-CSI信号的处理" class="headerlink" title="3 CSI信号的处理"></a>3 CSI信号的处理</h3><p><a href="https://blog.csdn.net/qq_20386411/article/details/83384614" target="_blank" rel="noopener">博客</a></p>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/05/ACM/Leetcode-LinkedList%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/05/ACM/Leetcode-LinkedList%E7%AF%87/" class="post-title-link" itemprop="url">Leetcode-LinkedList篇</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-05 16:02:19" itemprop="dateCreated datePublished" datetime="2020-05-05T16:02:19+08:00">2020-05-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1 前言"></a>1 前言</h3><p>链表（分单链表和双向链表）</p>
<h3 id="2-AC代码"><a href="#2-AC代码" class="headerlink" title="2 AC代码"></a>2 AC代码</h3><h4 id="1-Design-Linked-List"><a href="#1-Design-Linked-List" class="headerlink" title="[1]  Design Linked List"></a>[1]  Design Linked List</h4><ul>
<li><p>概述<br>设计链表。</p>
</li>
<li><p>思路<br>要特别注意空指针的处理。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">struct node&#123;</span><br><span class="line">    node* next;</span><br><span class="line">    int val;</span><br><span class="line">    </span><br><span class="line">    node(int value)&#123;</span><br><span class="line">        next&#x3D;nullptr;</span><br><span class="line">        val&#x3D;value;</span><br><span class="line">    &#125;</span><br><span class="line">    node()&#123;</span><br><span class="line">        next&#x3D;nullptr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">class MyLinkedList &#123;</span><br><span class="line">private:</span><br><span class="line">    node* head;</span><br><span class="line">    int len;</span><br><span class="line">    </span><br><span class="line">public:</span><br><span class="line">    &#x2F;** Initialize your data structure here. *&#x2F;</span><br><span class="line">    MyLinkedList() &#123;</span><br><span class="line">        this-&gt;head&#x3D;nullptr;</span><br><span class="line">        this-&gt;len&#x3D;0;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    &#x2F;** Get the value of the index-th node in the linked list. If the index is invalid, return -1. *&#x2F;</span><br><span class="line">    int get(int index) &#123;</span><br><span class="line">        if(this-&gt;head&#x3D;&#x3D;nullptr)</span><br><span class="line">            return -1;</span><br><span class="line">        int i&#x3D;0;</span><br><span class="line">        for(auto ptr&#x3D;this-&gt;head;ptr!&#x3D;nullptr;ptr&#x3D;ptr-&gt;next,i++)&#123;</span><br><span class="line">               if(i&#x3D;&#x3D;index)&#123;</span><br><span class="line">                    return ptr-&gt;val;   </span><br><span class="line">               &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;** Add a node of value val before the first element of the linked list. After the insertion, the new node will be the first node of the linked list. *&#x2F;</span><br><span class="line">    void addAtHead(int val) &#123;</span><br><span class="line">        node* n1&#x3D;new node(val);</span><br><span class="line">        n1-&gt;next&#x3D;this-&gt;head;</span><br><span class="line">        this-&gt;head&#x3D;n1;</span><br><span class="line">        this-&gt;len++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;** Append a node of value val to the last element of the linked list. *&#x2F;</span><br><span class="line">    void addAtTail(int val) &#123;</span><br><span class="line">        if(this-&gt;head&#x3D;&#x3D;nullptr)</span><br><span class="line">        &#123;</span><br><span class="line">            this-&gt;addAtHead(val);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        node* tail&#x3D;this-&gt;head;</span><br><span class="line">        for(auto ptr&#x3D;this-&gt;head;ptr!&#x3D;nullptr;ptr&#x3D;ptr-&gt;next)&#123;</span><br><span class="line">              if(ptr-&gt;next&#x3D;&#x3D;nullptr)&#123;</span><br><span class="line">                tail&#x3D;ptr;   </span><br><span class="line">              &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        node* n1&#x3D;new node(val);</span><br><span class="line">        tail-&gt;next&#x3D;n1;</span><br><span class="line">        this-&gt;len++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;** Add a node of value val before the index-th node in the linked list. If index equals to the length of linked list, the node will be appended to the end of linked list. If index is greater than the length, the node will not be inserted. *&#x2F;</span><br><span class="line">    void addAtIndex(int index, int val) &#123;</span><br><span class="line"></span><br><span class="line">        if(index&gt;this-&gt;len||index&lt;0)</span><br><span class="line">            return;</span><br><span class="line">        if(index&#x3D;&#x3D;this-&gt;len)</span><br><span class="line">        &#123;    </span><br><span class="line">            this-&gt;addAtTail(val);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if(index&#x3D;&#x3D;0)&#123;</span><br><span class="line">            this-&gt;addAtHead(val);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if(this-&gt;head&#x3D;&#x3D;nullptr)</span><br><span class="line">            return ;</span><br><span class="line">        node* n1&#x3D;new node(val);</span><br><span class="line">        node *pre&#x3D;nullptr,*cur&#x3D;nullptr;</span><br><span class="line">        int i&#x3D;0;</span><br><span class="line">        for(auto ptr&#x3D;this-&gt;head;ptr!&#x3D;nullptr;ptr&#x3D;ptr-&gt;next,i++)&#123;</span><br><span class="line">            if(i&#x3D;&#x3D;index-1)&#123;</span><br><span class="line">                pre&#x3D;ptr;   </span><br><span class="line">            &#125;</span><br><span class="line">            if(i&#x3D;&#x3D;index)&#123;</span><br><span class="line">                cur&#x3D;ptr;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        n1-&gt;next&#x3D;cur;</span><br><span class="line">        pre-&gt;next&#x3D;n1;</span><br><span class="line">        this-&gt;len++;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;** Delete the index-th node in the linked list, if the index is valid. *&#x2F;</span><br><span class="line">    void deleteAtIndex(int index) &#123;</span><br><span class="line">        if(this-&gt;head&#x3D;&#x3D;nullptr)</span><br><span class="line">            return ;</span><br><span class="line">        if(index&gt;(this-&gt;len-1)||index&lt;0)</span><br><span class="line">            return;</span><br><span class="line">        if(index&#x3D;&#x3D;0)&#123;</span><br><span class="line">            this-&gt;head&#x3D;this-&gt;head-&gt;next;</span><br><span class="line">            this-&gt;len--;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        node *pre&#x3D;nullptr,*cur&#x3D;nullptr,*aft&#x3D;nullptr;</span><br><span class="line">        int i&#x3D;0;</span><br><span class="line">        for(auto ptr&#x3D;this-&gt;head;ptr!&#x3D;nullptr;ptr&#x3D;ptr-&gt;next,i++)&#123;</span><br><span class="line">            if(i&#x3D;&#x3D;index-1)&#123;</span><br><span class="line">                pre&#x3D;ptr;   </span><br><span class="line">            &#125;</span><br><span class="line">            if(i&#x3D;&#x3D;index)&#123;</span><br><span class="line">                cur&#x3D;ptr;</span><br><span class="line">            &#125;</span><br><span class="line">            if(i&#x3D;&#x3D;index+1)&#123;</span><br><span class="line">                aft&#x3D;ptr;   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;删除最后一个元素</span><br><span class="line">        if(aft&#x3D;&#x3D;nullptr)</span><br><span class="line">        &#123;</span><br><span class="line">            pre-&gt;next&#x3D;nullptr;</span><br><span class="line">            this-&gt;len--;</span><br><span class="line">            return;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            pre-&gt;next&#x3D;aft;</span><br><span class="line">            this-&gt;len--;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Your MyLinkedList object will be instantiated and called as such:</span><br><span class="line"> * MyLinkedList* obj &#x3D; new MyLinkedList();</span><br><span class="line"> * int param_1 &#x3D; obj-&gt;get(index);</span><br><span class="line"> * obj-&gt;addAtHead(val);</span><br><span class="line"> * obj-&gt;addAtTail(val);</span><br><span class="line"> * obj-&gt;addAtIndex(index,val);</span><br><span class="line"> * obj-&gt;deleteAtIndex(index);</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure>
<h4 id="2-Linked-List-Cycle"><a href="#2-Linked-List-Cycle" class="headerlink" title="[2] Linked List Cycle"></a>[2] Linked List Cycle</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/214/two-pointer-technique/1212/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li><p>概述<br>是否有圈。</p>
</li>
<li><p>思路<br>用两个指针，一个快一个慢，看二者是否相遇。（快指针走2，慢指针走1，在M后，二者会相遇）<br>若没有圈，快指针会先走到NULL</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    bool hasCycle(ListNode *head) &#123;</span><br><span class="line">        if(head&#x3D;&#x3D;NULL)</span><br><span class="line">            return false;</span><br><span class="line">        ListNode *p1&#x3D;head,*p2&#x3D;head;</span><br><span class="line">        </span><br><span class="line">        for(;p2!&#x3D;NULL;p2&#x3D;p2-&gt;next)&#123;</span><br><span class="line">           </span><br><span class="line">            for(int i&#x3D;0;i&lt;2;i++)</span><br><span class="line">                if(p1-&gt;next!&#x3D;NULL)</span><br><span class="line">                    p1&#x3D;p1-&gt;next;</span><br><span class="line">                else&#123;</span><br><span class="line">                    return false;   </span><br><span class="line">                &#125;</span><br><span class="line">             if(p1&#x3D;&#x3D;p2)&#123;</span><br><span class="line">                return true;   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="3-Linked-List-Cycle-II"><a href="#3-Linked-List-Cycle-II" class="headerlink" title="[3] Linked List Cycle II"></a>[3] Linked List Cycle II</h4><p>[题目]（<a href="https://leetcode.com/explore/learn/card/linked-list/214/two-pointer-technique/1214/）" target="_blank" rel="noopener">https://leetcode.com/explore/learn/card/linked-list/214/two-pointer-technique/1214/）</a></p>
<ul>
<li><p>概述<br>找出圈开始的位置（最后一个元素指向的元素）</p>
</li>
<li><p>思路<br>存下所有点，重复的第一个就是圈开始的位置。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode *detectCycle(ListNode *head) &#123;</span><br><span class="line">        if(head&#x3D;&#x3D;NULL)</span><br><span class="line">            return NULL;</span><br><span class="line">        map&lt;ListNode*,ListNode*&gt; mmap;</span><br><span class="line">        ListNode *p1&#x3D;head,*p2&#x3D;head;</span><br><span class="line">        </span><br><span class="line">        for(;p2!&#x3D;NULL;p2&#x3D;p2-&gt;next)&#123;</span><br><span class="line">           if(mmap.find(p2)!&#x3D;mmap.end())</span><br><span class="line">               return mmap[p2];</span><br><span class="line">           else</span><br><span class="line">               mmap.insert(make_pair(p2,p2));</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-Intersection-of-Two-Linked-Lists"><a href="#4-Intersection-of-Two-Linked-Lists" class="headerlink" title="[4]  Intersection of Two Linked Lists"></a>[4]  Intersection of Two Linked Lists</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/214/two-pointer-technique/1215/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li><p>概述<br>两个链表会合的位置。</p>
</li>
<li><p>思路<br>存下来，从后向前匹配。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) &#123;</span><br><span class="line">        if(headA&#x3D;&#x3D;NULL||headB&#x3D;&#x3D;NULL)&#123;</span><br><span class="line">            return NULL;   </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        vector&lt;ListNode*&gt; a,b;</span><br><span class="line">        for(auto p1&#x3D;headA;p1!&#x3D;NULL;p1&#x3D;p1-&gt;next)&#123;</span><br><span class="line">            a.insert(a.end(),p1);   </span><br><span class="line">        &#125;</span><br><span class="line">        for(auto p1&#x3D;headB;p1!&#x3D;NULL;p1&#x3D;p1-&gt;next)&#123;</span><br><span class="line">            b.insert(b.end(),p1);   </span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;从后往前找</span><br><span class="line">        int len1&#x3D;a.size(),len2&#x3D;b.size();</span><br><span class="line">        ListNode * p1&#x3D;nullptr;</span><br><span class="line">        for(int i&#x3D;len1-1,j&#x3D;len2-1;i&gt;&#x3D;0&amp;&amp;j&gt;&#x3D;0;i--,j--)&#123;</span><br><span class="line">            if(a[i]&#x3D;&#x3D;b[j])</span><br><span class="line">            &#123;</span><br><span class="line">                cout&lt;&lt;&quot;i&#x3D;&quot;&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">                p1&#x3D;a[i];</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                   return p1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return p1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="5-Remove-Nth-Node-From-End-of-List"><a href="#5-Remove-Nth-Node-From-End-of-List" class="headerlink" title="[5] Remove Nth Node From End of List"></a>[5] Remove Nth Node From End of List</h4><ul>
<li><p>概述<br>移除指定元素。</p>
</li>
<li><p>思路<br>先把所有的指针都存下来。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* removeNthFromEnd(ListNode* head, int n) &#123;</span><br><span class="line">        if(head&#x3D;&#x3D;nullptr)</span><br><span class="line">            return head;</span><br><span class="line">        vector&lt;ListNode*&gt; list;</span><br><span class="line">        for(auto p1&#x3D;head;p1!&#x3D;nullptr;p1&#x3D;p1-&gt;next)&#123;</span><br><span class="line">            list.insert(list.end(),p1);</span><br><span class="line">        &#125;</span><br><span class="line">        int len&#x3D;list.size();</span><br><span class="line">        cout&lt;&lt;&quot;len&#x3D;&quot;&lt;&lt;len&lt;&lt;&quot; n&#x3D;&quot;&lt;&lt;n&lt;&lt;endl;</span><br><span class="line">        if(n&#x3D;&#x3D;len)&#123;</span><br><span class="line">            head&#x3D;head-&gt;next;</span><br><span class="line">        &#125;else if(n&#x3D;&#x3D;1)&#123;</span><br><span class="line">            list[len-2]-&gt;next&#x3D;nullptr;   </span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            list[len-n-1]-&gt;next&#x3D;list[len-n+1];   </span><br><span class="line">        &#125;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="6-Reverse-Linked-List"><a href="#6-Reverse-Linked-List" class="headerlink" title="[6] Reverse Linked List"></a>[6] Reverse Linked List</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/219/classic-problems/1205/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li>概述<br>倒序。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* reverseList(ListNode* head) &#123;</span><br><span class="line">        if(head&#x3D;&#x3D;nullptr||head-&gt;next&#x3D;&#x3D;nullptr)&#123;</span><br><span class="line">            return head;   </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ListNode *p1&#x3D;head,*p2&#x3D;head-&gt;next,*ori&#x3D;head;</span><br><span class="line">        for(;p2!&#x3D;nullptr&amp;&amp;p1!&#x3D;nullptr;)&#123;</span><br><span class="line">           </span><br><span class="line">                ListNode* p3&#x3D;p2-&gt;next;</span><br><span class="line">                p2-&gt;next&#x3D;p1; </span><br><span class="line">                head&#x3D;p2;</span><br><span class="line">                if(p1&#x3D;&#x3D;ori)</span><br><span class="line">                    p1-&gt;next&#x3D;nullptr;</span><br><span class="line">                p1&#x3D;p2;</span><br><span class="line">                p2&#x3D;p3;</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">            </span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="7-Remove-Linked-List-Elements"><a href="#7-Remove-Linked-List-Elements" class="headerlink" title="[7] Remove Linked List Elements"></a>[7] Remove Linked List Elements</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/219/classic-problems/1207/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li><p>概述<br>把特定值代表的结点从list里删了。</p>
</li>
<li><p>思路<br>三个判断。尤其是循环判断很关键。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* removeElements(ListNode* head, int val) &#123;</span><br><span class="line">        if(head&#x3D;&#x3D;nullptr)</span><br><span class="line">        &#123;   </span><br><span class="line">            return head;</span><br><span class="line">        &#125;</span><br><span class="line">        if(head-&gt;val&#x3D;&#x3D;val&amp;&amp;head-&gt;next&#x3D;&#x3D;nullptr)&#123;</span><br><span class="line">            return nullptr;   </span><br><span class="line">        &#125;</span><br><span class="line">        while(head-&gt;val&#x3D;&#x3D;val)&#123;</span><br><span class="line">            head&#x3D;head-&gt;next;   </span><br><span class="line">            if(head&#x3D;&#x3D;nullptr)&#123;</span><br><span class="line">                return nullptr;   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* ori&#x3D;head,*pre&#x3D;head,*p1&#x3D;head-&gt;next;</span><br><span class="line">        cout&lt;&lt;&quot;审核通过！&quot;&lt;&lt;endl;</span><br><span class="line">        for(;p1!&#x3D;nullptr;p1&#x3D;p1-&gt;next)&#123;</span><br><span class="line">            if(p1-&gt;val&#x3D;&#x3D;val)&#123;</span><br><span class="line">                pre-&gt;next&#x3D;p1-&gt;next;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                pre&#x3D;p1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="8-Odd-Even-Linked-List"><a href="#8-Odd-Even-Linked-List" class="headerlink" title="[8] Odd Even Linked List"></a>[8] Odd Even Linked List</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/219/classic-problems/1208/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li><p>概述<br>奇数的点在前，偶数点在后，且相对顺序不变。（In-place变换）</p>
</li>
<li><p>思路<br>遍历，奇数与奇数串，偶数与偶数串。再组合。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* oddEvenList(ListNode* head) &#123;</span><br><span class="line">        if(head&#x3D;&#x3D;nullptr||head-&gt;next&#x3D;&#x3D;nullptr)&#123;</span><br><span class="line">            return head;   </span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* h1&#x3D;head,*h2&#x3D;head-&gt;next,*h22&#x3D;head-&gt;next,*p1&#x3D;h2-&gt;next,*p2;</span><br><span class="line">        if(p1&#x3D;&#x3D;nullptr)&#123;</span><br><span class="line">               return head;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            p2&#x3D;p1-&gt;next;   </span><br><span class="line">        &#125;</span><br><span class="line">        for(;p1!&#x3D;nullptr;)&#123;</span><br><span class="line">            cout&lt;&lt;&quot;p1-&gt;val&#x3D;&quot;&lt;&lt;p1-&gt;val&lt;&lt;endl;</span><br><span class="line">            h1-&gt;next&#x3D;p1;</span><br><span class="line">            h2-&gt;next&#x3D;p2;</span><br><span class="line">            if(p2!&#x3D;nullptr)&#123;</span><br><span class="line">                h1&#x3D;p1;</span><br><span class="line">                p1&#x3D;p2-&gt;next;</span><br><span class="line">                if(p1!&#x3D;nullptr)&#123;</span><br><span class="line">                   h2&#x3D;p2;</span><br><span class="line">                   p2&#x3D;p1-&gt;next;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    p2-&gt;next&#x3D;nullptr;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                h1&#x3D;p1;</span><br><span class="line">                p1&#x3D;nullptr;   </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        h1-&gt;next&#x3D;h22;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="9-Palindrome-Linked-List"><a href="#9-Palindrome-Linked-List" class="headerlink" title="[9]  Palindrome Linked List"></a>[9]  Palindrome Linked List</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/219/classic-problems/1209/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li><p>概述<br>判断是否为回文</p>
</li>
<li><p>思路<br>取到数组去判断。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Definition for singly-linked list.</span><br><span class="line"> * struct ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode *next;</span><br><span class="line"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="line"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="line"> * &#125;;</span><br><span class="line"> *&#x2F;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    bool isPalindrome(ListNode* head) &#123;</span><br><span class="line">        vector&lt;int&gt; vec;</span><br><span class="line">        for(auto p1&#x3D;head;p1!&#x3D;nullptr;p1&#x3D;p1-&gt;next)&#123;</span><br><span class="line">            vec.push_back(p1-&gt;val);   </span><br><span class="line">        &#125;</span><br><span class="line">        int len&#x3D;vec.size();</span><br><span class="line">        for(int i&#x3D;0,j&#x3D;len-1;i&lt;&#x3D;j;i++,j--)&#123;</span><br><span class="line">            if(vec[i]!&#x3D;vec[j])</span><br><span class="line">                return false;</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="10-Merge-Two-Sorted-Lists"><a href="#10-Merge-Two-Sorted-Lists" class="headerlink" title="[10] Merge Two Sorted Lists"></a>[10] Merge Two Sorted Lists</h4><p><a href="https://leetcode.com/explore/learn/card/linked-list/213/conclusion/1227/" target="_blank" rel="noopener">题目</a></p>
<ul>
<li><p>概述<br>组合两个链表</p>
</li>
<li><p>思路<br>同题8</p>
</li>
</ul>
<h4 id="11"><a href="#11" class="headerlink" title="[11]"></a>[11]</h4><ul>
<li><p>概述</p>
</li>
<li><p>思路</p>
</li>
</ul>
<h4 id="12"><a href="#12" class="headerlink" title="[12]"></a>[12]</h4><ul>
<li><p>概述</p>
</li>
<li><p>思路</p>
</li>
</ul>

      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/29/ACM/Leetcode-Array101%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/A.png">
      <meta itemprop="name" content="Mona">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Moneyna 的杂货铺">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/29/ACM/Leetcode-Array101%E7%AF%87/" class="post-title-link" itemprop="url">Leetcode-Array101篇</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-29 22:52:20" itemprop="dateCreated datePublished" datetime="2020-04-29T22:52:20+08:00">2020-04-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>开始刷leetcode。<br>从头开始。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/04/29/ACM/Leetcode-Array101%E7%AF%87/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mona"
      src="/images/A.png">
  <p class="site-author-name" itemprop="name">Mona</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">122</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">41</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">82</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/moneyna" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;moneyna" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>

	 
   <a href="/">
      <img class="site-author-image" itemprop="image"
        src="/images/A.png"
        alt="Mona" />
   </a>

  

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mona</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
